<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libAurora.php: Aurora/Addon/WebUI/Group.php Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libAurora.php
   
   </div>
   <div id="projectbrief">libAurora.php is a PHP5 library for interfacing with various Aurora-Sim modules and services.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('Group_8php.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Aurora/Addon/WebUI/Group.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Group_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="keyword">namespace </span><a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">Aurora\Addon\WebUI</a>{
<a name="l00008"></a>00008 
<a name="l00009"></a>00009         use SeekableIterator;
<a name="l00010"></a>00010 
<a name="l00011"></a>00011         use Aurora\Framework;
<a name="l00012"></a>00012         use Aurora\Addon;
<a name="l00013"></a>00013         use <a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">Aurora\Addon\WebUI</a>;
<a name="l00014"></a>00014         use <a class="code" href="classAurora_1_1Addon_1_1abstractAPI.html">Aurora\Addon\abstractAPI</a>;
<a name="l00015"></a>00015 
<a name="l00017"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html">00017</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html" title="Implementation of Aurora::Framework::GroupRecord.">GroupRecord</a> <span class="keyword">implements</span> <a class="code" href="interfaceAurora_1_1Framework_1_1GroupRecord.html" title="We&#39;re deviating from the c# here, we&#39;re using methods instead of public properties.">Framework\GroupRecord</a>{
<a name="l00018"></a>00018 
<a name="l00020"></a>00020 
<a name="l00033"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a5aa5129834b20535b649627981d2dbc3">00033</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a5aa5129834b20535b649627981d2dbc3" title="We hide this behind a registry method.">__construct</a>($uuid, $name, $charter, $insignia, $founder, $membershipFee, $openEnrollment, $showInList, $allowPublish, $maturePublish, $ownerRoleID){
<a name="l00034"></a>00034                         <span class="keywordflow">if</span>(is_string($name) === <span class="keyword">true</span>){
<a name="l00035"></a>00035                                 $name = trim($name);
<a name="l00036"></a>00036                         }
<a name="l00037"></a>00037                         <span class="keywordflow">if</span>(is_string($charter) === <span class="keyword">true</span>){
<a name="l00038"></a>00038                                 $charter = trim($charter);
<a name="l00039"></a>00039                         }
<a name="l00040"></a>00040                         <span class="keywordflow">if</span>(is_string($membershipFee) === <span class="keyword">true</span> &amp;&amp; ctype_digit($membershipFee) === <span class="keyword">true</span>){
<a name="l00041"></a>00041                                 $membershipFee = (integer)$membershipFee;
<a name="l00042"></a>00042                         }
<a name="l00043"></a>00043                         <span class="keywordflow">if</span>(is_string($openEnrollment) === <span class="keyword">true</span> &amp;&amp; ctype_digit($openEnrollment) === <span class="keyword">true</span>){
<a name="l00044"></a>00044                                 $openEnrollment = (bool)$openEnrollment;
<a name="l00045"></a>00045                         }
<a name="l00046"></a>00046                         <span class="keywordflow">if</span>(is_string($showInList) === <span class="keyword">true</span> &amp;&amp; ctype_digit($showInList) === <span class="keyword">true</span>){
<a name="l00047"></a>00047                                 $showInList = (bool)$showInList;
<a name="l00048"></a>00048                         }
<a name="l00049"></a>00049                         <span class="keywordflow">if</span>(is_string($allowPublish) === <span class="keyword">true</span> &amp;&amp; ctype_digit($allowPublish) === <span class="keyword">true</span>){
<a name="l00050"></a>00050                                 $allowPublish = (bool)$allowPublish;
<a name="l00051"></a>00051                         }
<a name="l00052"></a>00052                         <span class="keywordflow">if</span>(is_string($maturePublish) === <span class="keyword">true</span> &amp;&amp; ctype_digit($maturePublish) === <span class="keyword">true</span>){
<a name="l00053"></a>00053                                 $maturePublish = (bool)$maturePublish;
<a name="l00054"></a>00054                         }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00057"></a>00057                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group ID should be a string.&#39;</span>);
<a name="l00058"></a>00058                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) !== 1){
<a name="l00059"></a>00059                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group ID should be a valid UUID.&#39;</span>);
<a name="l00060"></a>00060                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($name) === <span class="keyword">false</span>){
<a name="l00061"></a>00061                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group name should be a string.&#39;</span>);
<a name="l00062"></a>00062                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($name === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00063"></a>00063                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group name should be a non-empty string.&#39;</span>);
<a name="l00064"></a>00064                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($charter) === <span class="keyword">false</span>){
<a name="l00065"></a>00065                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group charter should be a string.&#39;</span>);
<a name="l00066"></a>00066                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($insignia) === <span class="keyword">false</span>){
<a name="l00067"></a>00067                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group insignia should be a string.&#39;</span>);
<a name="l00068"></a>00068                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $insignia) !== 1){
<a name="l00069"></a>00069                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group insignia should be a valid UUID.&#39;</span>);
<a name="l00070"></a>00070                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($founder) === <span class="keyword">false</span>){
<a name="l00071"></a>00071                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group founder should be a string.&#39;</span>);
<a name="l00072"></a>00072                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $founder) !== 1){
<a name="l00073"></a>00073                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group founder should be a valid UUID.&#39;</span>);
<a name="l00074"></a>00074                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($membershipFee) === <span class="keyword">false</span>){
<a name="l00075"></a>00075                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Membership fee should be an integer.&#39;</span>);
<a name="l00076"></a>00076                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($membershipFee &lt; 0){
<a name="l00077"></a>00077                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Membership fee should be greater than or equal to zero.&#39;</span>);
<a name="l00078"></a>00078                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($openEnrollment) === <span class="keyword">false</span>){
<a name="l00079"></a>00079                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Open Enrollment should be a boolean.&#39;</span>);
<a name="l00080"></a>00080                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($showInList) === <span class="keyword">false</span>){
<a name="l00081"></a>00081                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Show in list flag should be a boolean.&#39;</span>);
<a name="l00082"></a>00082                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($allowPublish) === <span class="keyword">false</span>){
<a name="l00083"></a>00083                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Allow publish flag should be a boolean.&#39;</span>);
<a name="l00084"></a>00084                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($maturePublish) === <span class="keyword">false</span>){
<a name="l00085"></a>00085                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Mature publish flag should be a boolean.&#39;</span>);
<a name="l00086"></a>00086                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($ownerRoleID) === <span class="keyword">false</span>){
<a name="l00087"></a>00087                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Owner role ID should be a string.&#39;</span>);
<a name="l00088"></a>00088                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $ownerRoleID) !== 1){
<a name="l00089"></a>00089                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Owner role ID should be a valid UUID.&#39;</span>);
<a name="l00090"></a>00090                         }
<a name="l00091"></a>00091 
<a name="l00092"></a>00092                         $this-&gt;GroupID        = $uuid;
<a name="l00093"></a>00093                         $this-&gt;GroupName      = $name;
<a name="l00094"></a>00094                         $this-&gt;Charter        = $charter;
<a name="l00095"></a>00095                         $this-&gt;GroupPicture   = $insignia;
<a name="l00096"></a>00096                         $this-&gt;FounderID      = $founder;
<a name="l00097"></a>00097                         $this-&gt;MembershipFee  = $membershipFee;
<a name="l00098"></a>00098                         $this-&gt;OpenEnrollment = $openEnrollment;
<a name="l00099"></a>00099                         $this-&gt;ShowInList     = $showInList;
<a name="l00100"></a>00100                         $this-&gt;AllowPublish   = $allowPublish;
<a name="l00101"></a>00101                         $this-&gt;MaturePublish  = $maturePublish;
<a name="l00102"></a>00102                         $this-&gt;OwnerRoleID    = $ownerRoleID;
<a name="l00103"></a>00103                 }
<a name="l00104"></a>00104 
<a name="l00106"></a>00106 
<a name="l00120"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ad67000577a75ef3091bde99df4a99a21">00120</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ad67000577a75ef3091bde99df4a99a21" title="We use a registry method since groups are uniquely identified by UUIDs.">r</a>($uuid, $name=null, $charter=null, $insignia=null, $founder=null, $membershipFee=null, $openEnrollment=null, $showInList=null, $allowPublish=null, $maturePublish=null, $ownerRoleID=null){
<a name="l00121"></a>00121                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00122"></a>00122                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group ID should be a string.&#39;</span>);
<a name="l00123"></a>00123                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) !== 1){
<a name="l00124"></a>00124                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Group ID should be a valid UUID.&#39;</span>);
<a name="l00125"></a>00125                         }
<a name="l00126"></a>00126                         $uuid = strtolower($uuid);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128                         <span class="keyword">static</span> $registry = array();
<a name="l00129"></a>00129 
<a name="l00130"></a>00130                         $create = (isset($registry[$uuid]) === <span class="keyword">false</span>);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                         <span class="keywordflow">if</span>($create === <span class="keyword">true</span> &amp;&amp; isset($name, $charter, $insignia, $founder, $membershipFee, $openEnrollment, $showInList, $allowPublish, $maturePublish, $ownerRoleID) === <span class="keyword">false</span>){
<a name="l00133"></a>00133                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot return a group instance, group was never set.&#39;</span>);
<a name="l00134"></a>00134                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($create === <span class="keyword">false</span>){
<a name="l00135"></a>00135                                 $group = $registry[$uuid];
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                                 $create = (
<a name="l00138"></a>00138                                         $group-&gt;GroupName()      != $name ||
<a name="l00139"></a>00139                                         $group-&gt;Charter()        != $charter ||
<a name="l00140"></a>00140                                         $group-&gt;GroupPicture()   != $insignia ||
<a name="l00141"></a>00141                                         $group-&gt;FounderID()      != $founder ||
<a name="l00142"></a>00142                                         $group-&gt;MembershipFee()  != $membershipFee ||
<a name="l00143"></a>00143                                         $group-&gt;OpenEnrollment() != $openEnrollment ||
<a name="l00144"></a>00144                                         $group-&gt;ShowInList()     != $showInList ||
<a name="l00145"></a>00145                                         $group-&gt;AllowPublish()   != $allowPublish ||
<a name="l00146"></a>00146                                         $group-&gt;MaturePublish()  != $maturePublish ||
<a name="l00147"></a>00147                                         $group-&gt;OwnerRoleID()    != $ownerRoleID
<a name="l00148"></a>00148                                 );
<a name="l00149"></a>00149                         }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151                         <span class="keywordflow">if</span>($create === <span class="keyword">true</span>){
<a name="l00152"></a>00152                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $name, $charter, $insignia, $founder, $membershipFee, $openEnrollment, $showInList, $allowPublish, $maturePublish, $ownerRoleID);
<a name="l00153"></a>00153                         }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155                         <span class="keywordflow">return</span> $registry[$uuid];
<a name="l00156"></a>00156                 }
<a name="l00157"></a>00157 
<a name="l00160"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a558a1e3447f354b195f8b498748a04a8">00160</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a558a1e3447f354b195f8b498748a04a8">$GroupID</a>;
<a name="l00162"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#af38dca2402c63316b80489a5d4e0f2b9">00162</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#af38dca2402c63316b80489a5d4e0f2b9">GroupID</a>(){
<a name="l00163"></a>00163                         <span class="keywordflow">return</span> $this-&gt;GroupID;
<a name="l00164"></a>00164                 }
<a name="l00165"></a>00165 
<a name="l00168"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a3d25dfed3cb3b85f52fea3edded16c9c">00168</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a3d25dfed3cb3b85f52fea3edded16c9c">$GroupName</a>;
<a name="l00170"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a4e06e5b487b082004981155390ab7c94">00170</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a4e06e5b487b082004981155390ab7c94">GroupName</a>(){
<a name="l00171"></a>00171                         <span class="keywordflow">return</span> $this-&gt;GroupName;
<a name="l00172"></a>00172                 }
<a name="l00173"></a>00173 
<a name="l00176"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ab8eec374de7b093febaf40bcf18c6369">00176</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ab8eec374de7b093febaf40bcf18c6369">$Charter</a>;
<a name="l00178"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a50769e81f60443fd2499b4886816fe39">00178</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a50769e81f60443fd2499b4886816fe39">Charter</a>(){
<a name="l00179"></a>00179                         <span class="keywordflow">return</span> $this-&gt;Charter;
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181 
<a name="l00184"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a62163027d18ede2dbcb8cc61f22deaed">00184</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a62163027d18ede2dbcb8cc61f22deaed">$GroupPicture</a>;
<a name="l00186"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a8e712b897722dbdfc9099fb7ddc13bdc">00186</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a8e712b897722dbdfc9099fb7ddc13bdc">GroupPicture</a>(){
<a name="l00187"></a>00187                         <span class="keywordflow">return</span> $this-&gt;GroupPicture;
<a name="l00188"></a>00188                 }
<a name="l00189"></a>00189 
<a name="l00192"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a0d0f7764afde3e617c3faeb4c6c00fdc">00192</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a0d0f7764afde3e617c3faeb4c6c00fdc">$FounderID</a>;
<a name="l00194"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#acc417d2c3b1939437fac50ec3665574e">00194</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#acc417d2c3b1939437fac50ec3665574e">FounderID</a>(){
<a name="l00195"></a>00195                         <span class="keywordflow">return</span> $this-&gt;FounderID;
<a name="l00196"></a>00196                 }
<a name="l00197"></a>00197 
<a name="l00200"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a77bed3bb136edd3237851a08d3b0f296">00200</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a77bed3bb136edd3237851a08d3b0f296">$MembershipFee</a>;
<a name="l00202"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#aa2edd92bd6ead3c414d0ff11a8e2c91a">00202</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#aa2edd92bd6ead3c414d0ff11a8e2c91a">MembershipFee</a>(){
<a name="l00203"></a>00203                         <span class="keywordflow">return</span> $this-&gt;MembershipFee;
<a name="l00204"></a>00204                 }
<a name="l00205"></a>00205 
<a name="l00208"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a6358cbc7cd5207599df9b5661a9da10a">00208</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a6358cbc7cd5207599df9b5661a9da10a">$OpenEnrollment</a>;
<a name="l00210"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ae2540f9f7612287e80bc774d8bb0e638">00210</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ae2540f9f7612287e80bc774d8bb0e638">OpenEnrollment</a>(){
<a name="l00211"></a>00211                         <span class="keywordflow">return</span> $this-&gt;OpenEnrollment;
<a name="l00212"></a>00212                 }
<a name="l00213"></a>00213 
<a name="l00216"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#af4eaa4f4e8404c3501c897d9d12c3001">00216</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#af4eaa4f4e8404c3501c897d9d12c3001">$ShowInList</a>;
<a name="l00218"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a71cbdf01d061697b1231da7a69d1136f">00218</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a71cbdf01d061697b1231da7a69d1136f">ShowInList</a>(){
<a name="l00219"></a>00219                         <span class="keywordflow">return</span> $this-&gt;ShowInList;
<a name="l00220"></a>00220                 }
<a name="l00221"></a>00221 
<a name="l00224"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ae68692d298e8a027f2852aa20408f55a">00224</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ae68692d298e8a027f2852aa20408f55a">$AllowPublish</a>;
<a name="l00226"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ac1071ae733f9ad4227b789b740bcee75">00226</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ac1071ae733f9ad4227b789b740bcee75">AllowPublish</a>(){
<a name="l00227"></a>00227                         <span class="keywordflow">return</span> $this-&gt;AllowPublish;
<a name="l00228"></a>00228                 }
<a name="l00229"></a>00229 
<a name="l00232"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#abffed13b751f39a7075dbe07900fe357">00232</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#abffed13b751f39a7075dbe07900fe357">$MaturePublish</a>;
<a name="l00234"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ad75e8857a711987c2f580ad7a0da9089">00234</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#ad75e8857a711987c2f580ad7a0da9089">MaturePublish</a>(){
<a name="l00235"></a>00235                         <span class="keywordflow">return</span> $this-&gt;MaturePublish;
<a name="l00236"></a>00236                 }
<a name="l00237"></a>00237 
<a name="l00240"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a9ff3da78eb1811c2114a9be2e1afed7b">00240</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a9ff3da78eb1811c2114a9be2e1afed7b">$OwnerRoleID</a>;
<a name="l00242"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a286e4f293192fc5e23fa8e848f764134">00242</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html#a286e4f293192fc5e23fa8e848f764134">OwnerRoleID</a>(){
<a name="l00243"></a>00243                         <span class="keywordflow">return</span> $this-&gt;OwnerRoleID;
<a name="l00244"></a>00244                 }
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246 
<a name="l00248"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html">00248</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html" title="Groups iterator.">GetGroupRecords</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1abstractSeekableFilterableIterator.html" title="abstract class for filterable iterators for API method results that use sort arrays and boolean field...">Addon\abstractSeekableFilterableIterator</a>{
<a name="l00249"></a>00249 
<a name="l00251"></a>00251 
<a name="l00259"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html#a1f8ccc0a701b5b33e17ee7ed3fb89936">00259</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html#a1f8ccc0a701b5b33e17ee7ed3fb89936" title="Because we use a seekable iterator, we hide the constructor behind a registry method to avoid needles...">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $start=0, $total=0, array $sort=null, array $boolFields=null, array $groups=null){
<a name="l00260"></a>00260                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($WebUI, $start, $total, $sort, $boolFields);
<a name="l00261"></a>00261                         <span class="keywordflow">if</span>(isset($groups) === <span class="keyword">true</span>){
<a name="l00262"></a>00262                                 $i = $start;
<a name="l00263"></a>00263                                 <span class="keywordflow">foreach</span>($groups as $group){
<a name="l00264"></a>00264                                         <span class="keywordflow">if</span>($group instanceof <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html" title="Implementation of Aurora::Framework::GroupRecord.">GroupRecord</a>){
<a name="l00265"></a>00265                                                 $this-&gt;data[$i++] = $group;
<a name="l00266"></a>00266                                         }<span class="keywordflow">else</span>{
<a name="l00267"></a>00267                                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Only instances of Aurora::Addon::WebUI::GroupRecord should be passed to Aurora::Addon::WebUI::GetGroupRecords::__construct()&#39;</span>);
<a name="l00268"></a>00268                                         }
<a name="l00269"></a>00269                                 }
<a name="l00270"></a>00270                         }
<a name="l00271"></a>00271                 }
<a name="l00272"></a>00272 
<a name="l00274"></a>00274 
<a name="l00277"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html#af343507d1926e6ecf964625d41db528c">00277</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::GetGro...">current</a>(){
<a name="l00278"></a>00278                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l00279"></a>00279                                 <span class="keywordflow">return</span> null;
<a name="l00280"></a>00280                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l00281"></a>00281                                 $start   = $this-&gt;key();
<a name="l00282"></a>00282                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a3fdb8be4a31b918f03e3e2d4fa16f552" title="Gets an iterator for the number of groups specified, with optional filters.">GetGroups</a>($start, 10, $this-&gt;sort, $this-&gt;boolFields);
<a name="l00283"></a>00283                                 <span class="keywordflow">foreach</span>($results as $group){
<a name="l00284"></a>00284                                         $this-&gt;data[$start++] = $group;
<a name="l00285"></a>00285                                 }
<a name="l00286"></a>00286                         }
<a name="l00287"></a>00287                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l00288"></a>00288                 }
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290 
<a name="l00292"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html">00292</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html" title="News sources iterator.">GetNewsSources</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractLazyLoadingSeekableIterator.html" title="Implements the bare-minimum common code for API result iterators that do not load the entire set of r...">abstractLazyLoadingSeekableIterator</a>{
<a name="l00293"></a>00293 
<a name="l00295"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a531e4a386aaa7f3e06d3642dc38d7e80">00295</a>                 <span class="keyword">protected</span> <span class="keyword">static</span> $registry = array();
<a name="l00296"></a>00296 
<a name="l00298"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a699b83a97910d1664ca1a7b7e6a19994">00298</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a699b83a97910d1664ca1a7b7e6a19994" title="We&#39;re hiding this behind a registry method.">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $start=0, $total=0, array $groups=null){
<a name="l00299"></a>00299                         <span class="keywordflow">if</span>(isset($groups) === <span class="keyword">true</span>){
<a name="l00300"></a>00300                                 $i = $start;
<a name="l00301"></a>00301                                 <span class="keywordflow">foreach</span>($groups as $group){
<a name="l00302"></a>00302                                         <span class="keywordflow">if</span>($group instanceof <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupRecord.html" title="Implementation of Aurora::Framework::GroupRecord.">GroupRecord</a>){
<a name="l00303"></a>00303                                                 $this-&gt;data[$i++] = $group;
<a name="l00304"></a>00304                                         }<span class="keywordflow">else</span>{
<a name="l00305"></a>00305                                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Values of instantiated groups array must be instances of Aurora::Addon::WebUI::GroupRecord&#39;</span>);
<a name="l00306"></a>00306                                         }
<a name="l00307"></a>00307                                 }
<a name="l00308"></a>00308                         }
<a name="l00309"></a>00309 
<a name="l00310"></a>00310                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($WebUI, $start, $total);
<a name="l00311"></a>00311                 }
<a name="l00312"></a>00312 
<a name="l00314"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a6d8f43f21f6c5bb7e113161de952ee1c">00314</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a6d8f43f21f6c5bb7e113161de952ee1c" title="registry method">r</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $start=0, $total=null, array $groups=null){
<a name="l00315"></a>00315                         $hash = spl_object_hash($WebUI);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317                         <span class="keywordflow">if</span>(isset(static::$registry[$hash]) === <span class="keyword">false</span> &amp;&amp; isset($total) === <span class="keyword">false</span>){
<a name="l00318"></a>00318                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Total must be specified when no instance has been cached.&#39;</span>);
<a name="l00319"></a>00319                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset(static::$registry[$hash]) === <span class="keyword">false</span> || static::$registry[$hash]-&gt;count() !== $total){
<a name="l00320"></a>00320                                 static::$registry[$hash] = <span class="keyword">new</span> <span class="keyword">static</span>($WebUI, $start, $total, $groups);
<a name="l00321"></a>00321                         }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323                         static::$registry[$hash]-&gt;seek($start);
<a name="l00324"></a>00324                         <span class="keywordflow">return</span> static::$registry[$hash];
<a name="l00325"></a>00325                 }
<a name="l00326"></a>00326 
<a name="l00328"></a>00328 
<a name="l00332"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a96f6d51983d7b7a97703675dd3c7eb9a">00332</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#a96f6d51983d7b7a97703675dd3c7eb9a" title="Determines whether we have something in the registry or not.">hasInstance</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI){
<a name="l00333"></a>00333                         <span class="keywordflow">return</span> isset(static::$registry[spl_object_hash($WebUI)]);
<a name="l00334"></a>00334                 }
<a name="l00335"></a>00335 
<a name="l00337"></a>00337 
<a name="l00340"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#af343507d1926e6ecf964625d41db528c">00340</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsSources.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::GetNew...">current</a>(){
<a name="l00341"></a>00341                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l00342"></a>00342                                 <span class="keywordflow">return</span> null;
<a name="l00343"></a>00343                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l00344"></a>00344                                 $start   = $this-&gt;key();
<a name="l00345"></a>00345                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#aa4a2500c11c96fdf449406fb47af98e0" title="Gets an iterator for the groups usable as news sources.">GetNewsSources</a>($start, 10, <span class="keyword">true</span>);
<a name="l00346"></a>00346                                 <span class="keywordflow">foreach</span>($results as $group){
<a name="l00347"></a>00347                                         $this-&gt;data[$start++] = $group;
<a name="l00348"></a>00348                                 }
<a name="l00349"></a>00349                         }
<a name="l00350"></a>00350                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l00351"></a>00351                 }
<a name="l00352"></a>00352         }
<a name="l00353"></a>00353 
<a name="l00355"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1foreknowledgeGetGroupRecords.html">00355</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1foreknowledgeGetGroupRecords.html" title="Groups iterator when we have precise foreknowledge of the contents.">foreknowledgeGetGroupRecords</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupRecords.html" title="Groups iterator.">GetGroupRecords</a>{
<a name="l00356"></a>00356 
<a name="l00357"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1foreknowledgeGetGroupRecords.html#af343507d1926e6ecf964625d41db528c">00357</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1foreknowledgeGetGroupRecords.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::GetGro...">current</a>(){
<a name="l00358"></a>00358                         <span class="keywordflow">return</span> ($this-&gt;valid() === <span class="keyword">false</span>) ? null : $this-&gt;data[$this-&gt;key()];
<a name="l00359"></a>00359                 }
<a name="l00360"></a>00360         }
<a name="l00361"></a>00361 
<a name="l00363"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html">00363</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html" title="Implementation of Aurora::Framework::GroupNoticeData.">GroupNoticeData</a> <span class="keyword">implements</span> <a class="code" href="interfaceAurora_1_1Framework_1_1GroupNoticeData.html" title="We&#39;re deviating from the c# here, we&#39;re using methods instead of public properties.">Framework\GroupNoticeData</a>{
<a name="l00364"></a>00364 
<a name="l00377"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#ae2316a4098ab5fa515281c77aaaa6488">00377</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#ae2316a4098ab5fa515281c77aaaa6488">__construct</a>($GroupID, $NoticeID, $timestamp, $FromName, $Subject, $Message, $HasAttachment=<span class="keyword">false</span>, $ItemID=<span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span>, $AssetType=-1, $ItemName=<span class="stringliteral">&#39;&#39;</span>){
<a name="l00378"></a>00378                         <span class="keywordflow">if</span>(is_string($timestamp) === <span class="keyword">true</span> &amp;&amp; ctype_digit($timestamp) === <span class="keyword">true</span>){
<a name="l00379"></a>00379                                 $timestamp = (integer)$timestamp;
<a name="l00380"></a>00380                         }
<a name="l00381"></a>00381                         <span class="keywordflow">if</span>(is_string($FromName) === <span class="keyword">true</span>){
<a name="l00382"></a>00382                                 $FromName = trim($FromName);
<a name="l00383"></a>00383                         }
<a name="l00384"></a>00384                         <span class="keywordflow">if</span>(is_string($Subject) === <span class="keyword">true</span>){
<a name="l00385"></a>00385                                 $Subject = trim($Subject);
<a name="l00386"></a>00386                         }
<a name="l00387"></a>00387                         <span class="keywordflow">if</span>(is_string($Message) === <span class="keyword">true</span>){
<a name="l00388"></a>00388                                 $Message = trim($Message);
<a name="l00389"></a>00389                         }
<a name="l00390"></a>00390                         <span class="keywordflow">if</span>(is_string($AssetType) === <span class="keyword">true</span> &amp;&amp; ctype_digit($AssetType) === <span class="keyword">true</span>){
<a name="l00391"></a>00391                                 $AssetType = (integer)$AssetType;
<a name="l00392"></a>00392                         }
<a name="l00393"></a>00393                         <span class="keywordflow">if</span>(is_string($ItemName) === <span class="keyword">true</span>){
<a name="l00394"></a>00394                                 $ItemName = trim($ItemName);
<a name="l00395"></a>00395                         }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397                         <span class="keywordflow">if</span>(is_string($GroupID) === <span class="keyword">false</span>){
<a name="l00398"></a>00398                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a string.&#39;</span>);
<a name="l00399"></a>00399                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $GroupID) !== 1){
<a name="l00400"></a>00400                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a valid UUID.&#39;</span>);
<a name="l00401"></a>00401                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($NoticeID) === <span class="keyword">false</span>){
<a name="l00402"></a>00402                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;NoticeID must be a string.&#39;</span>);
<a name="l00403"></a>00403                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $NoticeID) !== 1){
<a name="l00404"></a>00404                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;NoticeID must be a valid UUID.&#39;</span>);
<a name="l00405"></a>00405                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($timestamp) === <span class="keyword">false</span>){
<a name="l00406"></a>00406                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Timestamp must be an integer.&#39;</span>);
<a name="l00407"></a>00407                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($FromName) === <span class="keyword">false</span>){
<a name="l00408"></a>00408                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;FromName must be a string.&#39;</span>);
<a name="l00409"></a>00409                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($FromName === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00410"></a>00410                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;FromName cannot be an empty string.&#39;</span>);
<a name="l00411"></a>00411                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($Subject) === <span class="keyword">false</span>){
<a name="l00412"></a>00412                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Subject must be a string.&#39;</span>);
<a name="l00413"></a>00413                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($Subject === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00414"></a>00414                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Subject cannot be an empty string.&#39;</span>);
<a name="l00415"></a>00415                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($Message) === <span class="keyword">false</span>){
<a name="l00416"></a>00416                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Message must be a string.&#39;</span>);
<a name="l00417"></a>00417                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($HasAttachment) === <span class="keyword">false</span>){
<a name="l00418"></a>00418                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;HasAttachment flag must be a boolean.&#39;</span>);
<a name="l00419"></a>00419                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($ItemID) === <span class="keyword">false</span>){
<a name="l00420"></a>00420                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;ItemID must be a string.&#39;</span>);
<a name="l00421"></a>00421                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $ItemID) !== 1){
<a name="l00422"></a>00422                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;ItemID must be a valid UUID.&#39;</span>);
<a name="l00423"></a>00423                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($AssetType) === <span class="keyword">false</span>){
<a name="l00424"></a>00424                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;AssetType must be an integer.&#39;</span>);
<a name="l00425"></a>00425                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($ItemName) === <span class="keyword">false</span>){
<a name="l00426"></a>00426                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;ItemName must be a string.&#39;</span>);
<a name="l00427"></a>00427                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($HasAttachment === <span class="keyword">true</span> &amp;&amp; $ItemName === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00428"></a>00428                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;ItemName cannot be an empty string when a group notice has an attachment.&#39;</span>);
<a name="l00429"></a>00429                         }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431                         $this-&gt;GroupID       = $GroupID;
<a name="l00432"></a>00432                         $this-&gt;NoticeID      = $NoticeID;
<a name="l00433"></a>00433                         $this-&gt;Timestamp     = $timestamp;
<a name="l00434"></a>00434                         $this-&gt;FromName      = $FromName;
<a name="l00435"></a>00435                         $this-&gt;Subject       = $Subject;
<a name="l00436"></a>00436                         $this-&gt;Message       = $Message;
<a name="l00437"></a>00437                         $this-&gt;HasAttachment = $HasAttachment;
<a name="l00438"></a>00438                         $this-&gt;AssetType     = $AssetType;
<a name="l00439"></a>00439                         $this-&gt;ItemID        = $ItemID;
<a name="l00440"></a>00440                         $this-&gt;ItemName      = $ItemName;
<a name="l00441"></a>00441                 }
<a name="l00442"></a>00442 
<a name="l00444"></a>00444 
<a name="l00457"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a684dc81b72e0d7c81b1c2d41a26ec652">00457</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a684dc81b72e0d7c81b1c2d41a26ec652" title="registry method">r</a>($GroupID, $NoticeID, $timestamp=null, $FromName=null, $Subject=null, $Message=null, $HasAttachment=<span class="keyword">false</span>, $ItemID=<span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span>, $AssetType=-1, $ItemName=<span class="stringliteral">&#39;&#39;</span>){
<a name="l00458"></a>00458                         <span class="keywordflow">if</span>(is_string($GroupID) === <span class="keyword">false</span>){
<a name="l00459"></a>00459                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a string.&#39;</span>);
<a name="l00460"></a>00460                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $GroupID) === <span class="keyword">false</span>){
<a name="l00461"></a>00461                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a valid UUID.&#39;</span>);
<a name="l00462"></a>00462                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($NoticeID) === <span class="keyword">false</span>){
<a name="l00463"></a>00463                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;NoticeID must be a string.&#39;</span>);
<a name="l00464"></a>00464                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $NoticeID) === <span class="keyword">false</span>){
<a name="l00465"></a>00465                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;NoticeID must be a valid UUID.&#39;</span>);
<a name="l00466"></a>00466                         }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468                         $GroupID  = strtolower($GroupID);
<a name="l00469"></a>00469                         $NoticeID = strtolower($NoticeID);
<a name="l00470"></a>00470                         <span class="keyword">static</span> $registry = array();
<a name="l00471"></a>00471                         <span class="keywordflow">if</span>(isset($registry[$GroupID]) === <span class="keyword">false</span>){
<a name="l00472"></a>00472                                 $registry[$GroupID] = array();
<a name="l00473"></a>00473                         }
<a name="l00474"></a>00474                         <span class="keywordflow">if</span>(isset($registry[$GroupID][$NoticeID]) === <span class="keyword">false</span>){
<a name="l00475"></a>00475                                 $registry[$GroupID][$NoticeID] = <span class="keyword">new</span> <span class="keyword">static</span>($GroupID, $NoticeID, $timestamp, $FromName, $Subject, $Message, $HasAttachment, $ItemID, $AssetType, $ItemName);
<a name="l00476"></a>00476                         }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478                         <span class="keywordflow">return</span> $registry[$GroupID][$NoticeID];
<a name="l00479"></a>00479                 }
<a name="l00480"></a>00480 
<a name="l00483"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a558a1e3447f354b195f8b498748a04a8">00483</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a558a1e3447f354b195f8b498748a04a8">$GroupID</a>;
<a name="l00485"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#af38dca2402c63316b80489a5d4e0f2b9">00485</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#af38dca2402c63316b80489a5d4e0f2b9">GroupID</a>(){
<a name="l00486"></a>00486                         <span class="keywordflow">return</span> $this-&gt;GroupID;
<a name="l00487"></a>00487                 }
<a name="l00488"></a>00488 
<a name="l00491"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#aa741e7cd9ff0d97e1f7651344c950ebd">00491</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#aa741e7cd9ff0d97e1f7651344c950ebd">$NoticeID</a>;
<a name="l00493"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#abc453f0be813d337f3728d26c24b38d5">00493</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#abc453f0be813d337f3728d26c24b38d5">NoticeID</a>(){
<a name="l00494"></a>00494                         <span class="keywordflow">return</span> $this-&gt;NoticeID;
<a name="l00495"></a>00495                 }
<a name="l00496"></a>00496 
<a name="l00499"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a085ca2acd04c13cf0ef5b3861c49d364">00499</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a085ca2acd04c13cf0ef5b3861c49d364">$Timestamp</a>;
<a name="l00501"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a3ccb273b45fb16b1b14de8a4c8b44e3b">00501</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a3ccb273b45fb16b1b14de8a4c8b44e3b">Timestamp</a>(){
<a name="l00502"></a>00502                         <span class="keywordflow">return</span> $this-&gt;Timestamp;
<a name="l00503"></a>00503                 }
<a name="l00504"></a>00504 
<a name="l00507"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a0338c56bfb2ac4229c555a97222f47c2">00507</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a0338c56bfb2ac4229c555a97222f47c2">$FromName</a>;
<a name="l00509"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#aad7ad6a44740f333072806ed26d62511">00509</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#aad7ad6a44740f333072806ed26d62511">FromName</a>(){
<a name="l00510"></a>00510                         <span class="keywordflow">return</span> $this-&gt;FromName;
<a name="l00511"></a>00511                 }
<a name="l00512"></a>00512 
<a name="l00515"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a2b58ba25576b17f0a874336a68a44a62">00515</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a2b58ba25576b17f0a874336a68a44a62">$Subject</a>;
<a name="l00517"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a50e15527fd1badb4f312f39d96cee5d1">00517</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a50e15527fd1badb4f312f39d96cee5d1">Subject</a>(){
<a name="l00518"></a>00518                         <span class="keywordflow">return</span> $this-&gt;Subject;
<a name="l00519"></a>00519                 }
<a name="l00520"></a>00520 
<a name="l00523"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#ab23576849f64a6b190167099cfab7eae">00523</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#ab23576849f64a6b190167099cfab7eae">$Message</a>;
<a name="l00525"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#af1991e0448f9277f0939d142e4aa2c94">00525</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#af1991e0448f9277f0939d142e4aa2c94">Message</a>(){
<a name="l00526"></a>00526                         <span class="keywordflow">return</span> $this-&gt;Message;
<a name="l00527"></a>00527                 }
<a name="l00528"></a>00528 
<a name="l00531"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#acdef98583c4f2ffcae7e82936477c9df">00531</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#acdef98583c4f2ffcae7e82936477c9df">$HasAttachment</a>;
<a name="l00533"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a8aa55935795711c516d18b6efce0e0af">00533</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a8aa55935795711c516d18b6efce0e0af">HasAttachment</a>(){
<a name="l00534"></a>00534                         <span class="keywordflow">return</span> $this-&gt;HasAttachment;
<a name="l00535"></a>00535                 }
<a name="l00536"></a>00536 
<a name="l00539"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a2819b4fbefff3533e2aa4ff5e9139fd4">00539</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a2819b4fbefff3533e2aa4ff5e9139fd4">$AssetType</a>;
<a name="l00541"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a18240d42e14938be9ac9839b18bebaf8">00541</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a18240d42e14938be9ac9839b18bebaf8">AssetType</a>(){
<a name="l00542"></a>00542                         <span class="keywordflow">return</span> $this-&gt;AssetType;
<a name="l00543"></a>00543                 }
<a name="l00544"></a>00544 
<a name="l00547"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a569d93e811de8b5af1c63db49588c391">00547</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a569d93e811de8b5af1c63db49588c391">$ItemID</a>;
<a name="l00549"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a201c3367db642cf179cbe859bc1ca7a6">00549</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a201c3367db642cf179cbe859bc1ca7a6">ItemID</a>(){
<a name="l00550"></a>00550                         <span class="keywordflow">return</span> $this-&gt;ItemID;
<a name="l00551"></a>00551                 }
<a name="l00552"></a>00552 
<a name="l00555"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a40e923f167edd0099358b2c2fd438772">00555</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a40e923f167edd0099358b2c2fd438772">$ItemName</a>;
<a name="l00557"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a7583506354e1c5207cc6c27285a0964c">00557</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html#a7583506354e1c5207cc6c27285a0964c">ItemName</a>(){
<a name="l00558"></a>00558                         <span class="keywordflow">return</span> $this-&gt;ItemName;
<a name="l00559"></a>00559                 }
<a name="l00560"></a>00560         }
<a name="l00561"></a>00561 
<a name="l00563"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html">00563</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html" title="Group Notices iterator.">GetGroupNotices</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1abstractSeekableFilterableIterator.html" title="abstract class for filterable iterators for API method results that use sort arrays and boolean field...">Addon\abstractSeekableFilterableIterator</a>{
<a name="l00564"></a>00564 
<a name="l00566"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#ae49d006895cc80a8373ef8c0149232e6">00566</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#ae49d006895cc80a8373ef8c0149232e6" title="Will be populated with an array of Group IDs that the class was instantiated with.">$groupIDs</a>;
<a name="l00567"></a>00567 
<a name="l00569"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a1af3c911abb4f6414a86954705266327">00569</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a1af3c911abb4f6414a86954705266327" title="Will store the group records.">$groups</a>;
<a name="l00570"></a>00570 
<a name="l00572"></a>00572 
<a name="l00575"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a129fc5524a0887aaac4c02246837572a">00575</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a129fc5524a0887aaac4c02246837572a" title="Gets the groups iterator for the group IDs the instance was instantiated with.">Groups</a>(){
<a name="l00576"></a>00576                         <span class="keywordflow">if</span>(isset($this-&gt;groups) === <span class="keyword">false</span>){
<a name="l00577"></a>00577                                 $this-&gt;groups = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#affa4c86e44898f6a0aee0161244ff8f0" title="Gets an iterator for the specified list of GroupIDs.">foreknowledgeGetGroupRecords</a>($this-&gt;groupIDs);
<a name="l00578"></a>00578                                 $this-&gt;groups-&gt;rewind();
<a name="l00579"></a>00579                         }
<a name="l00580"></a>00580 
<a name="l00581"></a>00581                         <span class="keywordflow">return</span> $this-&gt;groups;
<a name="l00582"></a>00582                 }
<a name="l00583"></a>00583 
<a name="l00585"></a>00585 
<a name="l00592"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a27232b0e7bdcd84b80457ef5e6c5032d">00592</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#a27232b0e7bdcd84b80457ef5e6c5032d" title="Because we use a seekable iterator, we hide the constructor behind a registry method to avoid needles...">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $start=0, $total=0, array $groups, array $groupNotices=null){
<a name="l00593"></a>00593                         <span class="keywordflow">foreach</span>($groups as $groupID){
<a name="l00594"></a>00594                                 <span class="keywordflow">if</span>(is_string($groupID) === <span class="keyword">false</span>){
<a name="l00595"></a>00595                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a string.&#39;</span>);
<a name="l00596"></a>00596                                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $groupID) != 1){
<a name="l00597"></a>00597                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;GroupID must be a valid UUID.&#39;</span>);
<a name="l00598"></a>00598                                 }
<a name="l00599"></a>00599                         }
<a name="l00600"></a>00600                         
<a name="l00601"></a>00601                         $this-&gt;groupIDs = $groups;
<a name="l00602"></a>00602                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($WebUI, $start, $total, null, null);
<a name="l00603"></a>00603                         <span class="keywordflow">if</span>(isset($groupNotices) === <span class="keyword">true</span>){
<a name="l00604"></a>00604                                 $i = $start;
<a name="l00605"></a>00605                                 <span class="keywordflow">foreach</span>($groupNotices as $group){
<a name="l00606"></a>00606                                         <span class="keywordflow">if</span>($group instanceof <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GroupNoticeData.html" title="Implementation of Aurora::Framework::GroupNoticeData.">GroupNoticeData</a>){
<a name="l00607"></a>00607                                                 $this-&gt;data[$i++] = $group;
<a name="l00608"></a>00608                                         }<span class="keywordflow">else</span>{
<a name="l00609"></a>00609                                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Only instances of Aurora::Addon::WebUI::GroupNoticeData should be passed to Aurora::Addon::WebUI::GetGroupRecords::__construct()&#39;</span>);
<a name="l00610"></a>00610                                         }
<a name="l00611"></a>00611                                 }
<a name="l00612"></a>00612                         }
<a name="l00613"></a>00613                 }
<a name="l00614"></a>00614 
<a name="l00616"></a>00616 
<a name="l00625"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#abf12701848f4009a8abc23c9e3cc0bb6">00625</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#abf12701848f4009a8abc23c9e3cc0bb6" title="This is a registry method for a class that implements the SeekableIterator class, so we can save ours...">r</a>(<a class="code" href="classAurora_1_1Addon_1_1abstractAPI.html">abstractAPI</a> $WebUI, $start=0, $total=0, array $groups=null, array $entities=null, array $ignored=null){
<a name="l00626"></a>00626                         sort($groups);
<a name="l00627"></a>00627                         <span class="keyword">static</span> $registry = array();
<a name="l00628"></a>00628                         $hash1 = spl_object_hash($WebUI);
<a name="l00629"></a>00629                         $hash2 = md5(print_r($groups,<span class="keyword">true</span>));
<a name="l00630"></a>00630 
<a name="l00631"></a>00631                         <span class="keywordflow">if</span>(isset($registry[$hash1]) === <span class="keyword">false</span>){
<a name="l00632"></a>00632                                 $registry[$hash1] = array();
<a name="l00633"></a>00633                         }
<a name="l00634"></a>00634 
<a name="l00635"></a>00635                         $create = (isset($registry[$hash1][$hash2]) === <span class="keyword">false</span>) || ($create === <span class="keyword">false</span> &amp;&amp; $registry[$hash1][$hash2]-&gt;count() !== $total);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637                         <span class="keywordflow">if</span>($create === <span class="keyword">true</span>){
<a name="l00638"></a>00638                                 $registry[$hash1][$hash2] = <span class="keyword">new</span> <span class="keyword">static</span>($WebUI, $start, $total, $groups, $entities);
<a name="l00639"></a>00639                         }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641                         $registry[$hash1][$hash2]-&gt;seek($start);
<a name="l00642"></a>00642 
<a name="l00643"></a>00643                         <span class="keywordflow">return</span> $registry[$hash1][$hash2];
<a name="l00644"></a>00644                 }
<a name="l00645"></a>00645 
<a name="l00647"></a>00647 
<a name="l00650"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#af343507d1926e6ecf964625d41db528c">00650</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::GetGro...">current</a>(){
<a name="l00651"></a>00651                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l00652"></a>00652                                 <span class="keywordflow">return</span> null;
<a name="l00653"></a>00653                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l00654"></a>00654                                 $start   = $this-&gt;key();
<a name="l00655"></a>00655                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8780edcbbdc1524b05d57ba180ff5b74" title="Get group notices for the specified groups.">GroupNotices</a>($start, 10, $this-&gt;groupIDs, <span class="keyword">true</span>);
<a name="l00656"></a>00656                                 <span class="keywordflow">foreach</span>($results as $group){
<a name="l00657"></a>00657                                         $this-&gt;data[$start++] = $group;
<a name="l00658"></a>00658                                 }
<a name="l00659"></a>00659                         }
<a name="l00660"></a>00660                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l00661"></a>00661                 }
<a name="l00662"></a>00662         }
<a name="l00663"></a>00663 
<a name="l00665"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsFromGroupNotices.html">00665</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsFromGroupNotices.html" title="News iterator.">GetNewsFromGroupNotices</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetGroupNotices.html" title="Group Notices iterator.">GetGroupNotices</a>{
<a name="l00667"></a>00667 
<a name="l00670"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsFromGroupNotices.html#af343507d1926e6ecf964625d41db528c">00670</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GetNewsFromGroupNotices.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::GetGro...">current</a>(){
<a name="l00671"></a>00671                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l00672"></a>00672                                 <span class="keywordflow">return</span> null;
<a name="l00673"></a>00673                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l00674"></a>00674                                 $start   = $this-&gt;key();
<a name="l00675"></a>00675                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a1491903062b105bceb182e360a99c49a" title="Get group notices from groups flagged as being news sources.">NewsFromGroupNotices</a>($start, 10);
<a name="l00676"></a>00676                                 <span class="keywordflow">foreach</span>($results as $group){
<a name="l00677"></a>00677                                         $this-&gt;data[$start++] = $group;
<a name="l00678"></a>00678                                 }
<a name="l00679"></a>00679                         }
<a name="l00680"></a>00680                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l00681"></a>00681                 }
<a name="l00682"></a>00682         }
<a name="l00683"></a>00683 }
<a name="l00684"></a>00684 ?&gt;
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="Group_8php.html">Group.php</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
