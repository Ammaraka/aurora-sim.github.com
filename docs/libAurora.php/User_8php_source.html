<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libAurora.php: Aurora/Addon/WebUI/User.php Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libAurora.php
   
   </div>
   <div id="projectbrief">libAurora.php is a PHP5 library for interfacing with various Aurora-Sim modules and services.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('User_8php.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Aurora/Addon/WebUI/User.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="User_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="keyword">namespace </span><a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">Aurora\Addon\WebUI</a>{
<a name="l00007"></a>00007 
<a name="l00008"></a>00008         use SeekableIterator;
<a name="l00009"></a>00009         use IteratorAggregate;
<a name="l00010"></a>00010 
<a name="l00011"></a>00011         use <a class="code" href="classAurora_1_1Addon_1_1WORM.html" title="class for Write-Once-Read-Many implementations of ArrayAccess">Aurora\Addon\WORM</a>;
<a name="l00012"></a>00012         use <a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">Aurora\Addon\WebUI</a>;
<a name="l00013"></a>00013         use Aurora\Services\Interfaces;
<a name="l00014"></a>00014         use <a class="code" href="classlibAurora_1_1abstractIterator.html" title="abstract iterator, not for any particular class but we don&#39;t want to duplicate code.">libAurora\abstractIterator</a>;
<a name="l00015"></a>00015 
<a name="l00017"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html">00017</a>         <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html" title="abstract implementation">abstractUser</a> <span class="keyword">implements</span> Interfaces\User{
<a name="l00018"></a>00018 
<a name="l00020"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a095c5d389db211932136b53f25f39685">00020</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a095c5d389db211932136b53f25f39685" title="protected constructor, should be hidden behind factory or registry methods. Assumes properties were a...">__construct</a>(){
<a name="l00021"></a>00021                         <span class="keywordflow">if</span>(is_string($this-&gt;PrincipalID) === <span class="keyword">false</span>){
<a name="l00022"></a>00022                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User UUID must be a string.&#39;</span>);
<a name="l00023"></a>00023                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $this-&gt;PrincipalID) === <span class="keyword">false</span>){
<a name="l00024"></a>00024                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User UUID was not a valid UUID.&#39;</span>);
<a name="l00025"></a>00025                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($this-&gt;FirstName) === <span class="keyword">false</span>){
<a name="l00026"></a>00026                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User first name must be a string.&#39;</span>);
<a name="l00027"></a>00027                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(trim($this-&gt;FirstName) === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00028"></a>00028                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User first name must not be an empty string.&#39;</span>);
<a name="l00029"></a>00029                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($this-&gt;LastName) === <span class="keyword">false</span>){ <span class="comment">// last names can be an empty string</span>
<a name="l00030"></a>00030                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User last name must be a string.&#39;</span>);
<a name="l00031"></a>00031                         }
<a name="l00032"></a>00032                         $this-&gt;PrincipalID = strtolower($this-&gt;PrincipalID);
<a name="l00033"></a>00033                 }
<a name="l00034"></a>00034 
<a name="l00037"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a4bd77e0076e9cb44c94bb001e5d2c173">00037</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a4bd77e0076e9cb44c94bb001e5d2c173">$PrincipalID</a>;
<a name="l00039"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a146726f851916466815b57de07f35bc7">00039</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a146726f851916466815b57de07f35bc7">PrincipalID</a>(){
<a name="l00040"></a>00040                         <span class="keywordflow">return</span> $this-&gt;PrincipalID;
<a name="l00041"></a>00041                 }
<a name="l00042"></a>00042 
<a name="l00045"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a8316de284893b4042af91c9a454aa28e">00045</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a8316de284893b4042af91c9a454aa28e">$FirstName</a>;
<a name="l00047"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a0e3e32188dd1631ed1ed673ac844d999">00047</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a0e3e32188dd1631ed1ed673ac844d999">FirstName</a>(){
<a name="l00048"></a>00048                         <span class="keywordflow">return</span> $this-&gt;FirstName;
<a name="l00049"></a>00049                 }
<a name="l00050"></a>00050 
<a name="l00053"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a5c17c1d32727728ccc8d0b778d16c820">00053</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#a5c17c1d32727728ccc8d0b778d16c820">$LastName</a>;
<a name="l00055"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#acf2c54b7fd06550cd64cf72194709a2c">00055</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#acf2c54b7fd06550cd64cf72194709a2c">LastName</a>(){
<a name="l00056"></a>00056                         <span class="keywordflow">return</span> $this-&gt;LastName;
<a name="l00057"></a>00057                 }
<a name="l00058"></a>00058 
<a name="l00060"></a>00060 
<a name="l00065"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#aee637aaac62ffd89b7b7c6b6529e913b">00065</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html#aee637aaac62ffd89b7b7c6b6529e913b" title="This is for child classes that won&#39;t have their own implementation.">Name</a>(){
<a name="l00066"></a>00066                         <span class="keywordflow">return</span> trim($this-&gt;FirstName() . <span class="charliteral">&#39; &#39;</span> . $this-&gt;LastName()); <span class="comment">// we use trim in case Aurora::Addon::WebUI::abstractUser::LastName() is an empty string.</span>
<a name="l00067"></a>00067                 }
<a name="l00068"></a>00068         }
<a name="l00069"></a>00069 
<a name="l00071"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUserHasName.html">00071</a>         <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUserHasName.html" title="implements common code relating converting names from a single string into the legacy first and last ...">abstractUserHasName</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html" title="abstract implementation">abstractUser</a>{
<a name="l00072"></a>00072 
<a name="l00074"></a>00074 
<a name="l00078"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUserHasName.html#a6540c801681bd0dbf56dfa6983210fbc">00078</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUserHasName.html#a6540c801681bd0dbf56dfa6983210fbc" title="Wraps to Aurora::Addon::WebUI::abstractUser::__construct() after converting names from a single strin...">__construct</a>($uuid, $name){
<a name="l00079"></a>00079                         $firstName = explode(<span class="charliteral">&#39; &#39;</span>, $name);
<a name="l00080"></a>00080                         $lastName = array_pop($firstName);
<a name="l00081"></a>00081                         <span class="keywordflow">if</span>($lastName === $name){
<a name="l00082"></a>00082                                 $lastName = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00083"></a>00083                                 $firstName = $name;
<a name="l00084"></a>00084                         }<span class="keywordflow">else</span>{
<a name="l00085"></a>00085                                 $firstName = implode(<span class="charliteral">&#39; &#39;</span>, $firstName); <span class="comment">// this is to future proof first names with multiple spaces.</span>
<a name="l00086"></a>00086                         }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088                         $this-&gt;PrincipalID = $uuid;
<a name="l00089"></a>00089                         $this-&gt;FirstName   = $firstName;
<a name="l00090"></a>00090                         $this-&gt;LastName    = $lastName;
<a name="l00091"></a>00091 
<a name="l00092"></a>00092                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>();
<a name="l00093"></a>00093                 }
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00097"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html">00097</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html" title="Lightweight generated user.">genUser</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUser.html" title="abstract implementation">abstractUser</a>{
<a name="l00099"></a>00099 
<a name="l00104"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html#abab271ceb43fd7d529c3b92c260a4508">00104</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html#abab271ceb43fd7d529c3b92c260a4508" title="Since this is a generated class, we need to override the parent constructor to set the properties...">__construct</a>($uuid, $first, $last){
<a name="l00105"></a>00105                         $this-&gt;PrincipalID = $uuid;
<a name="l00106"></a>00106                         $this-&gt;FirstName   = $first;
<a name="l00107"></a>00107                         $this-&gt;LastName    = $last;
<a name="l00108"></a>00108                 }
<a name="l00109"></a>00109 
<a name="l00111"></a>00111 
<a name="l00118"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html#a87f0046f9cf5dbfb285cc9fa96084a25">00118</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html#a87f0046f9cf5dbfb285cc9fa96084a25" title="Since this is a generated class for non-unique entities, we&#39;re going to use a registry method...">r</a>($uuid, $first=null, $last=null){
<a name="l00119"></a>00119                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00120"></a>00120                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User UUID must be a string.&#39;</span>);
<a name="l00121"></a>00121                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) === <span class="keyword">false</span>){
<a name="l00122"></a>00122                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User UUID was not a valid UUID.&#39;</span>);
<a name="l00123"></a>00123                         }
<a name="l00124"></a>00124                         $uuid = strtolower($uuid);
<a name="l00125"></a>00125                         <span class="keyword">static</span> $registry = array();
<a name="l00126"></a>00126                         <span class="keywordflow">if</span>(isset($registry[$uuid]) === <span class="keyword">false</span>){
<a name="l00127"></a>00127                                 <span class="keywordflow">if</span>(isset($first,$last) === <span class="keyword">false</span>){
<a name="l00128"></a>00128                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot return an instance by UUID alone, user was never set.&#39;</span>);
<a name="l00129"></a>00129                                 }
<a name="l00130"></a>00130                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $first, $last);
<a name="l00131"></a>00131                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($registry[$uuid]-&gt;FirstName() !== $first || $registry[$uuid]-&gt;LastName() !== $last){ <span class="comment">// assume a call was made to Aurora::Addon::WebUI::ChangeName()</span>
<a name="l00132"></a>00132                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $first, $last);
<a name="l00133"></a>00133                         }
<a name="l00134"></a>00134                         <span class="keywordflow">return</span> $registry[$uuid];
<a name="l00135"></a>00135                 }
<a name="l00136"></a>00136         }
<a name="l00137"></a>00137 
<a name="l00139"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html">00139</a>         <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html" title="implements some methods &amp; input validation that child classes will have in common to avoid code dupli...">commonUser</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1genUser.html" title="Lightweight generated user.">genUser</a>{
<a name="l00140"></a>00140 
<a name="l00142"></a>00142 
<a name="l00147"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#ab30bd179ff6617f1f30793e5a79599f3">00147</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#ab30bd179ff6617f1f30793e5a79599f3" title="We need to add in some more properties and validation since we&#39;re extending another class...">__construct</a>($uuid, $name, $email){
<a name="l00148"></a>00148                         <span class="keywordflow">if</span>(is_string($name) === <span class="keyword">false</span>){
<a name="l00149"></a>00149                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Name must be a string.&#39;</span>);
<a name="l00150"></a>00150                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(trim($name) === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00151"></a>00151                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Name cannot be an empty string.&#39;</span>);
<a name="l00152"></a>00152                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($email) === <span class="keyword">false</span>){
<a name="l00153"></a>00153                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Email address must be string.&#39;</span>);
<a name="l00154"></a>00154                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($email !== <span class="stringliteral">&#39;&#39;</span> &amp;&amp; is_email($email) === <span class="keyword">false</span>){
<a name="l00155"></a>00155                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Email address not valid.&#39;</span>);
<a name="l00156"></a>00156                         }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158                         $firstName = explode(<span class="charliteral">&#39; &#39;</span>, $name);
<a name="l00159"></a>00159                         $lastName = array_pop($firstName);
<a name="l00160"></a>00160                         <span class="keywordflow">if</span>($lastName === $name){
<a name="l00161"></a>00161                                 $lastName = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00162"></a>00162                                 $firstName = $name;
<a name="l00163"></a>00163                         }<span class="keywordflow">else</span>{
<a name="l00164"></a>00164                                 $firstName = implode(<span class="charliteral">&#39; &#39;</span>, $firstName); <span class="comment">// this is to future proof first names with multiple spaces.</span>
<a name="l00165"></a>00165                         }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167                         $this-&gt;Email    = $email;
<a name="l00168"></a>00168                         $this-&gt;Name     = $name;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($uuid, $firstName, $lastName);
<a name="l00171"></a>00171                 }
<a name="l00172"></a>00172 
<a name="l00175"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a90efb261c13e9a3e16ed2b0563dec08d">00175</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a90efb261c13e9a3e16ed2b0563dec08d">$Name</a>;
<a name="l00177"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#aee637aaac62ffd89b7b7c6b6529e913b">00177</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#aee637aaac62ffd89b7b7c6b6529e913b">Name</a>(){
<a name="l00178"></a>00178                         <span class="keywordflow">return</span> $this-&gt;Name;
<a name="l00179"></a>00179                 }
<a name="l00180"></a>00180 
<a name="l00183"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a46da2886d0fe6510e2e0cd92aae2e79d">00183</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a46da2886d0fe6510e2e0cd92aae2e79d">$Email</a>;
<a name="l00185"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a974e7b0a2770cb893518931770410dc1">00185</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html#a974e7b0a2770cb893518931770410dc1">Email</a>(){
<a name="l00186"></a>00186                         <span class="keywordflow">return</span> $this-&gt;Email;
<a name="l00187"></a>00187                 }
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189 
<a name="l00191"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html">00191</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html" title="GridUserInfo class. Returned by Aurora::Addon::WebUI::GetGridUserInfo()">GridUserInfo</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html" title="implements some methods &amp; input validation that child classes will have in common to avoid code dupli...">commonUser</a>{
<a name="l00192"></a>00192 
<a name="l00194"></a>00194 
<a name="l00206"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae47e216b05091318d73f039c076e95cf">00206</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae47e216b05091318d73f039c076e95cf" title="We need to add in some more properties and validation since we&#39;re extending another class...">__construct</a>($uuid, $name, $homeUUID, $homeName, $currentRegionUUID, $currentRegionName, $onlineStatus, $email, $lastLogin=null, $lastLogout=null){
<a name="l00207"></a>00207                         <span class="keywordflow">if</span>(is_string($homeUUID) === <span class="keyword">false</span>){
<a name="l00208"></a>00208                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Home region UUID must be a string.&#39;</span>);
<a name="l00209"></a>00209                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $homeUUID) !== 1){
<a name="l00210"></a>00210                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Home region UUID was not a valid UUID.&#39;</span>);
<a name="l00211"></a>00211                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($homeName) === <span class="keyword">false</span>){
<a name="l00212"></a>00212                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Home region name must be a string.&#39;</span>);
<a name="l00213"></a>00213                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($homeUUID !== <span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span> &amp;&amp; trim($homeName) === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00214"></a>00214                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Home region name cannot be an empty string.&#39;</span>);
<a name="l00215"></a>00215                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($currentRegionUUID) === <span class="keyword">false</span>){
<a name="l00216"></a>00216                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Current region UUID must be a string.&#39;</span>);
<a name="l00217"></a>00217                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\WebUI::regex_UUID, $currentRegionUUID) !== 1){
<a name="l00218"></a>00218                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Current region UUID was not a valid UUID.&#39;</span>);
<a name="l00219"></a>00219                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($currentRegionName) === <span class="keyword">false</span>){
<a name="l00220"></a>00220                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Current region name must be a string.&#39;</span>);
<a name="l00221"></a>00221                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($currentRegionUUID !== <span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span> &amp;&amp; trim($currentRegionName) === <span class="stringliteral">&#39;&#39;</span>){
<a name="l00222"></a>00222                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Current region name cannot be an empty string.&#39;</span>);
<a name="l00223"></a>00223                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($onlineStatus) === <span class="keyword">false</span>){
<a name="l00224"></a>00224                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Online status must be a boolean.&#39;</span>);
<a name="l00225"></a>00225                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($lastLogin) === <span class="keyword">true</span> &amp;&amp; is_integer($lastLogin) === <span class="keyword">false</span>){
<a name="l00226"></a>00226                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;If the last login time is specified, it must be specified as integer.&#39;</span>);
<a name="l00227"></a>00227                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($lastLogout) === <span class="keyword">true</span> &amp;&amp; is_integer($lastLogout) === <span class="keyword">false</span>){
<a name="l00228"></a>00228                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;If the last logout time is specified, it must be specified as integer.&#39;</span>);
<a name="l00229"></a>00229                         }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231                         $this-&gt;HomeUUID          = $homeUUID;
<a name="l00232"></a>00232                         $this-&gt;HomeName          = trim($homeName);
<a name="l00233"></a>00233                         $this-&gt;CurrentRegionUUID = $currentRegionUUID;
<a name="l00234"></a>00234                         $this-&gt;CurrentRegionName = trim($currentRegionName);
<a name="l00235"></a>00235                         $this-&gt;Online            = $onlineStatus;
<a name="l00236"></a>00236                         $this-&gt;LastLogin         = $lastLogin;
<a name="l00237"></a>00237                         $this-&gt;LastLogout        = $lastLogout;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($uuid, $name, $email);
<a name="l00240"></a>00240                 }
<a name="l00241"></a>00241 
<a name="l00243"></a>00243 
<a name="l00256"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a7d268f905581bf94e7789d77505f2edb">00256</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a7d268f905581bf94e7789d77505f2edb" title="Since this is a generated class for non-unique entities, we&#39;re going to use a registry method...">r</a>($uuid, $name=null, $homeUUID=null, $homeName=null, $currentRegionUUID=null, $currentRegionName=null, $onlineStatus=null, $email=null, $lastLogin=null, $lastLogout=null){
<a name="l00257"></a>00257                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00258"></a>00258                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID must be a string.&#39;</span>);
<a name="l00259"></a>00259                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) === <span class="keyword">false</span>){
<a name="l00260"></a>00260                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID was not a valid UUID.&#39;</span>);
<a name="l00261"></a>00261                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>((isset($name) || isset($homeUUID) || isset($homeName) || isset($onlineStatus) || isset($email)) &amp;&amp; isset($name, $homeUUID, $homeName, $currentRegionUUID, $currentRegionName, $onlineStatus, $email) === <span class="keyword">false</span>){
<a name="l00262"></a>00262                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;If the grid info of the user has changed, all info must be specified.&#39;</span>);
<a name="l00263"></a>00263                         }
<a name="l00264"></a>00264                         $uuid = strtolower($uuid);
<a name="l00265"></a>00265                         <span class="keyword">static</span> $registry = array();
<a name="l00266"></a>00266                         <span class="keywordflow">if</span>(isset($registry[$uuid]) === <span class="keyword">false</span>){
<a name="l00267"></a>00267                                 <span class="keywordflow">if</span>(isset($name, $homeUUID, $homeName, $onlineStatus, $email) === <span class="keyword">false</span>){
<a name="l00268"></a>00268                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot return grid info for user by UUID, grid info has not been set.&#39;</span>);
<a name="l00269"></a>00269                                 }
<a name="l00270"></a>00270                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>(
<a name="l00271"></a>00271                                         $uuid,
<a name="l00272"></a>00272                                         $name,
<a name="l00273"></a>00273                                         $homeUUID,
<a name="l00274"></a>00274                                         $homeName,
<a name="l00275"></a>00275                                         $currentRegionUUID,
<a name="l00276"></a>00276                                         $currentRegionName,
<a name="l00277"></a>00277                                         $onlineStatus,
<a name="l00278"></a>00278                                         $email,
<a name="l00279"></a>00279                                         $lastLogin,
<a name="l00280"></a>00280                                         $lastLogout
<a name="l00281"></a>00281                                 );
<a name="l00282"></a>00282                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($name, $homeUUID, $homeName, $onlineStatus, $email) === <span class="keyword">true</span>){
<a name="l00283"></a>00283                                 $info = $registry[$uuid];
<a name="l00284"></a>00284                                 <span class="keywordflow">if</span>(
<a name="l00285"></a>00285                                         $info-&gt;Name()              !== $name              ||
<a name="l00286"></a>00286                                         $info-&gt;HomeUUID()          !== $homeUUID          ||
<a name="l00287"></a>00287                                         $info-&gt;HomeName()          !== $homeName          ||
<a name="l00288"></a>00288                                         $info-&gt;CurrentRegionUUID() !== $currentRegionUUID ||
<a name="l00289"></a>00289                                         $info-&gt;CurrentRegionName() !== $currentRegionName ||
<a name="l00290"></a>00290                                         $info-&gt;Online()            !== $onlineStatus      ||
<a name="l00291"></a>00291                                         $info-&gt;Email()             !== $email             ||
<a name="l00292"></a>00292                                         $info-&gt;LastLogin()         !== $lastLogin         ||
<a name="l00293"></a>00293                                         $info-&gt;LastLogout()        !== $lastLogout
<a name="l00294"></a>00294                                 ){
<a name="l00295"></a>00295                                         $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>(
<a name="l00296"></a>00296                                                 $uuid,
<a name="l00297"></a>00297                                                 $name,
<a name="l00298"></a>00298                                                 $homeUUID,
<a name="l00299"></a>00299                                                 $homeName,
<a name="l00300"></a>00300                                                 $currentRegionUUID,
<a name="l00301"></a>00301                                                 $currentRegionName,
<a name="l00302"></a>00302                                                 $onlineStatus,
<a name="l00303"></a>00303                                                 $email,
<a name="l00304"></a>00304                                                 $lastLogin,
<a name="l00305"></a>00305                                                 $lastLogout
<a name="l00306"></a>00306                                         );
<a name="l00307"></a>00307                                 }
<a name="l00308"></a>00308                         }
<a name="l00309"></a>00309                         <span class="keywordflow">return</span> $registry[$uuid];
<a name="l00310"></a>00310                 }
<a name="l00311"></a>00311 
<a name="l00314"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#af51c32b48d8aead09f8d7ea2d4ae79c5">00314</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#af51c32b48d8aead09f8d7ea2d4ae79c5">$HomeUUID</a>;
<a name="l00316"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a25c9b9e32f7e0716a6593076a3d81448">00316</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a25c9b9e32f7e0716a6593076a3d81448">HomeUUID</a>(){
<a name="l00317"></a>00317                         <span class="keywordflow">return</span> $this-&gt;HomeUUID;
<a name="l00318"></a>00318                 }
<a name="l00319"></a>00319 
<a name="l00322"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a0f89bddfba1debb32a98a8525d7036f7">00322</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a0f89bddfba1debb32a98a8525d7036f7">$HomeName</a>;
<a name="l00324"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8b91da0f207c7b175fed82a684fca3ee">00324</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8b91da0f207c7b175fed82a684fca3ee">HomeName</a>(){
<a name="l00325"></a>00325                         <span class="keywordflow">return</span> $this-&gt;HomeName;
<a name="l00326"></a>00326                 }
<a name="l00327"></a>00327 
<a name="l00330"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a750d205b070e400fbbbad176b4101727">00330</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a750d205b070e400fbbbad176b4101727">$CurrentRegionUUID</a>;
<a name="l00332"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae42cb651b1c38c61543e965198d485c9">00332</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae42cb651b1c38c61543e965198d485c9">CurrentRegionUUID</a>(){
<a name="l00333"></a>00333                         <span class="keywordflow">return</span> $this-&gt;CurrentRegionUUID;
<a name="l00334"></a>00334                 }
<a name="l00335"></a>00335 
<a name="l00338"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae942887ec2978dee50476449e15a2b81">00338</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#ae942887ec2978dee50476449e15a2b81">$CurrentRegionName</a>;
<a name="l00340"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a14cec9548ad25e04554d2752a4d451f0">00340</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a14cec9548ad25e04554d2752a4d451f0">CurrentRegionName</a>(){
<a name="l00341"></a>00341                         <span class="keywordflow">return</span> $this-&gt;CurrentRegionName;
<a name="l00342"></a>00342                 }
<a name="l00343"></a>00343 
<a name="l00346"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8f0caca70d814a0f8a5cdf4ab353ed34">00346</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8f0caca70d814a0f8a5cdf4ab353ed34">$Online</a>;
<a name="l00348"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a2f24bce1ce3acf7c0334b999355aedc5">00348</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a2f24bce1ce3acf7c0334b999355aedc5">Online</a>(){
<a name="l00349"></a>00349                         <span class="keywordflow">return</span> $this-&gt;Online;
<a name="l00350"></a>00350                 }
<a name="l00351"></a>00351 
<a name="l00354"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#aa68ad27d35560aca432c2fbac0cbe160">00354</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#aa68ad27d35560aca432c2fbac0cbe160">$LastLogin</a>;
<a name="l00356"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8c0d1c905116a9654430b14f56162432">00356</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a8c0d1c905116a9654430b14f56162432">LastLogin</a>(){
<a name="l00357"></a>00357                         <span class="keywordflow">return</span> $this-&gt;LastLogin;
<a name="l00358"></a>00358                 }
<a name="l00359"></a>00359 
<a name="l00362"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a60583cc6b59c40f4dcbdcb4bdd98a2fa">00362</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a60583cc6b59c40f4dcbdcb4bdd98a2fa">$LastLogout</a>;
<a name="l00364"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a59196dba1c7d3f6d07f73e3b221a5ded">00364</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html#a59196dba1c7d3f6d07f73e3b221a5ded">LastLogout</a>(){
<a name="l00365"></a>00365                         <span class="keywordflow">return</span> $this-&gt;LastLogout;
<a name="l00366"></a>00366                 }
<a name="l00367"></a>00367         }
<a name="l00368"></a>00368 
<a name="l00370"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html">00370</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html" title="UserProfile class. Returned by Aurora::Addon::WebUI::GetProfile()">UserProfile</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1commonUser.html" title="implements some methods &amp; input validation that child classes will have in common to avoid code dupli...">commonUser</a>{
<a name="l00371"></a>00371 
<a name="l00373"></a>00373 
<a name="l00402"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a12da155af9cf839d8d14b5c24320a440">00402</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a12da155af9cf839d8d14b5c24320a440" title="We need to add in some more properties and validation since we&#39;re extending another class...">__construct</a>($uuid, $name=<span class="stringliteral">&#39;&#39;</span>, $email=<span class="stringliteral">&#39;&#39;</span>, $created=0, $allowPublish=<span class="keyword">false</span>, $maturePublish=<span class="keyword">false</span>, $wantToMask=0, $wantToText=<span class="stringliteral">&#39;&#39;</span>, $canDoMask=0, $canDoText=<span class="stringliteral">&#39;&#39;</span>, $languages=<span class="stringliteral">&#39;&#39;</span>, $image=<span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span>, $aboutText=<span class="stringliteral">&#39;&#39;</span>, $firstLifeImage=<span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span>, $firstLifeAboutText=<span class="stringliteral">&#39;&#39;</span>, $webURL=<span class="stringliteral">&#39;&#39;</span>, $displayName=<span class="stringliteral">&#39;&#39;</span>, $partnerUUID=<span class="stringliteral">&#39;00000000-0000-0000-0000-000000000000&#39;</span>, $visible=<span class="keyword">false</span>, $customType=<span class="stringliteral">&#39;&#39;</span>, $notes=<span class="stringliteral">&#39;&#39;</span>, $userLevel=-1 , $RLName=null, $RLAddress=null, $RLZip=null, $RLCity=null, $RLCountry=null){
<a name="l00403"></a>00403                         <span class="keywordflow">if</span>(is_string($created) === <span class="keyword">true</span> &amp;&amp; ctype_digit($created) === <span class="keyword">true</span>){
<a name="l00404"></a>00404                                 $created = (integer)$created;
<a name="l00405"></a>00405                         }
<a name="l00406"></a>00406                         <span class="keywordflow">if</span>(is_string($wantToMask) === <span class="keyword">true</span> &amp;&amp; ctype_digit($wantToMask) === <span class="keyword">true</span>){
<a name="l00407"></a>00407                                 $wantToMask = (integer)$wantToMask;
<a name="l00408"></a>00408                         }
<a name="l00409"></a>00409                         <span class="keywordflow">if</span>(is_string($canDoMask) === <span class="keyword">true</span> &amp;&amp; ctype_digit($canDoMask) === <span class="keyword">true</span>){
<a name="l00410"></a>00410                                 $canDoMask = (integer)$canDoMask;
<a name="l00411"></a>00411                         }
<a name="l00412"></a>00412                         <span class="keywordflow">if</span>(is_string($userLevel) === <span class="keyword">true</span> &amp;&amp; ctype_digit($userLevel) === <span class="keyword">true</span>){
<a name="l00413"></a>00413                                 $userLevel = (integer)$userLevel;
<a name="l00414"></a>00414                         }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416                         <span class="keywordflow">if</span>(is_integer($created) === <span class="keyword">false</span>){
<a name="l00417"></a>00417                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;created must be an integer.&#39;</span>);
<a name="l00418"></a>00418                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($allowPublish) === <span class="keyword">false</span>){
<a name="l00419"></a>00419                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;allowPublish must be a boolean.&#39;</span>);
<a name="l00420"></a>00420                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($maturePublish) === <span class="keyword">false</span>){
<a name="l00421"></a>00421                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;maturePublish must be a boolean.&#39;</span>);
<a name="l00422"></a>00422                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($wantToMask) === <span class="keyword">false</span>){
<a name="l00423"></a>00423                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;wantToMask must be an integer.&#39;</span>);
<a name="l00424"></a>00424                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($wantToText) === <span class="keyword">false</span>){
<a name="l00425"></a>00425                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;wantToText must be a string.&#39;</span>);
<a name="l00426"></a>00426                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($canDoMask) === <span class="keyword">false</span>){
<a name="l00427"></a>00427                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;canDoMask must be an integer.&#39;</span>);
<a name="l00428"></a>00428                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($canDoText) === <span class="keyword">false</span>){
<a name="l00429"></a>00429                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;canDoText must be an integer.&#39;</span>);
<a name="l00430"></a>00430                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($languages) === <span class="keyword">false</span>){
<a name="l00431"></a>00431                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;languages must be a string.&#39;</span>);
<a name="l00432"></a>00432                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($image) === <span class="keyword">false</span>){
<a name="l00433"></a>00433                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;image asset UUID must be a string.&#39;</span>);
<a name="l00434"></a>00434                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $image) !== 1){
<a name="l00435"></a>00435                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;image asset UUID was not a valid UUID.&#39;</span>);
<a name="l00436"></a>00436                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($aboutText) === <span class="keyword">false</span>){
<a name="l00437"></a>00437                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;about text must be a string.&#39;</span>);
<a name="l00438"></a>00438                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($firstLifeImage) === <span class="keyword">false</span>){
<a name="l00439"></a>00439                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;first life image asset UUID must be a string.&#39;</span>);
<a name="l00440"></a>00440                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\WebUI::regex_UUID, $firstLifeImage) !== 1){
<a name="l00441"></a>00441                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;first life image asset UUID was not a valid UUID.&#39;</span>);
<a name="l00442"></a>00442                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($firstLifeAboutText) === <span class="keyword">false</span>){
<a name="l00443"></a>00443                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;first life about text must be a string.&#39;</span>);
<a name="l00444"></a>00444                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($webURL) === <span class="keyword">false</span>){
<a name="l00445"></a>00445                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;third-party user web profile must be a string.&#39;</span>);
<a name="l00446"></a>00446                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(trim($webURL) !== <span class="stringliteral">&#39;&#39;</span> &amp;&amp; in_array(parse_url($webURL, \PHP_URL_SCHEME), array(<span class="stringliteral">&#39;http&#39;</span>, <span class="stringliteral">&#39;https&#39;</span>)) === <span class="keyword">false</span>){
<a name="l00447"></a>00447                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;third-party user web profile must be either http or https url.&#39;</span>);
<a name="l00448"></a>00448                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($displayName) === <span class="keyword">false</span>){
<a name="l00449"></a>00449                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;display name must be a string.&#39;</span>);
<a name="l00450"></a>00450                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($partnerUUID) === <span class="keyword">false</span>){
<a name="l00451"></a>00451                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;partner account UUID must be a string.&#39;</span>);
<a name="l00452"></a>00452                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\WebUI::regex_UUID, $partnerUUID) !== 1){
<a name="l00453"></a>00453                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;partner account UUID was not a valid UUID.&#39;</span>);
<a name="l00454"></a>00454                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($visible) === <span class="keyword">false</span>){
<a name="l00455"></a>00455                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;visible must be a boolean.&#39;</span>);
<a name="l00456"></a>00456                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($customType) === <span class="keyword">false</span>){
<a name="l00457"></a>00457                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;custom type must be a string.&#39;</span>);
<a name="l00458"></a>00458                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($notes) === <span class="keyword">false</span>){
<a name="l00459"></a>00459                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;notes must be a string.&#39;</span>);
<a name="l00460"></a>00460                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(json_decode($notes) === <span class="keyword">false</span>){
<a name="l00461"></a>00461                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;notes must be a valid stringified JSON entity.&#39;</span>);
<a name="l00462"></a>00462                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($userLevel) === <span class="keyword">false</span>){
<a name="l00463"></a>00463                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User Level must be an integer.&#39;</span>);
<a name="l00464"></a>00464                         }
<a name="l00465"></a>00465                         
<a name="l00466"></a>00466                         $this-&gt;Created            = $created;
<a name="l00467"></a>00467                         $this-&gt;AllowPublish       = $allowPublish;
<a name="l00468"></a>00468                         $this-&gt;MaturePublish      = $maturePublish;
<a name="l00469"></a>00469                         $this-&gt;WantToMask         = $wantToMask;
<a name="l00470"></a>00470                         $this-&gt;WantToText         = trim($wantToText);
<a name="l00471"></a>00471                         $this-&gt;CanDoMask          = $canDoMask;
<a name="l00472"></a>00472                         $this-&gt;CanDoText          = trim($canDoText);
<a name="l00473"></a>00473                         $this-&gt;Languages          = trim($languages);
<a name="l00474"></a>00474                         $this-&gt;Image              = $image;
<a name="l00475"></a>00475                         $this-&gt;AboutText          = trim($aboutText);
<a name="l00476"></a>00476                         $this-&gt;FirstLifeImage     = $firstLifeImage;
<a name="l00477"></a>00477                         $this-&gt;FirstLifeAboutText = trim($firstLifeAboutText);
<a name="l00478"></a>00478                         $this-&gt;WebURL             = trim($webURL);
<a name="l00479"></a>00479                         $this-&gt;DisplayName        = trim($displayName);
<a name="l00480"></a>00480                         $this-&gt;PartnerUUID        = $partnerUUID;
<a name="l00481"></a>00481                         $this-&gt;Visible            = $visible;
<a name="l00482"></a>00482                         $this-&gt;CustomType         = trim($customType);
<a name="l00483"></a>00483                         $this-&gt;Notes              = $notes;
<a name="l00484"></a>00484                         $this-&gt;UserLevel          = $userLevel;
<a name="l00485"></a>00485 
<a name="l00486"></a>00486                         <span class="keywordflow">if</span>(isset($RLName, $RLAddress, $RLZip, $RLCity, $RLCountry) === <span class="keyword">true</span>){
<a name="l00487"></a>00487                                 $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html" title="Encapsulating real-life/meatspace info in a class so that Aurora::Addon::WebUI::UserProfile::RLInfo()...">RLInfo</a> = <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html" title="Encapsulating real-life/meatspace info in a class so that Aurora::Addon::WebUI::UserProfile::RLInfo()...">RLInfo</a>($RLName, $RLAddress, $RLZip, $RLCity, $RLCountry);
<a name="l00488"></a>00488                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($RLName) || isset($RLAddress) || isset($RLZip) || isset($RLCity) || isset($RLCountry)){
<a name="l00489"></a>00489                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;If RL information is being specified, all RL information needs to be specified.&#39;</span>);
<a name="l00490"></a>00490                         }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($uuid, $name, $email);
<a name="l00493"></a>00493                 }
<a name="l00494"></a>00494 
<a name="l00496"></a>00496 
<a name="l00526"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a4e99e15af6adffaf7ea6061e698b8f95">00526</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a4e99e15af6adffaf7ea6061e698b8f95" title="registry method">r</a>($uuid, $name=null, $email=null, $created=null, $allowPublish=null, $maturePublish=null, $wantToMask=null, $wantToText=null, $canDoMask=null, $canDoText=null, $languages=null, $image=null, $aboutText=null, $firstLifeImage=null, $firstLifeAboutText=null, $webURL=null, $displayName=null, $partnerUUID=null, $visible=null, $customType=null, $notes=null, $userLevel=null, $RLName=null, $RLAddress=null, $RLZip=null, $RLCity=null, $RLCountry=null){
<a name="l00527"></a>00527                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00528"></a>00528                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID must be a string.&#39;</span>);
<a name="l00529"></a>00529                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) === <span class="keyword">false</span>){
<a name="l00530"></a>00530                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID was not a valid UUID.&#39;</span>);
<a name="l00531"></a>00531                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>((
<a name="l00532"></a>00532                                 (isset($name) || isset($email) || isset($created) || isset($allowPublish) || isset($maturePublish) || isset($wantToMask) || isset($wantToText) || isset($canDoMask) || isset($canDoText) || isset($languages) || isset($image) || isset($aboutText) || isset($firstLifeImage) || isset($firstLifeAboutText) || isset($webURL) || isset($displayName) || isset($partnerUUID) || isset($visible) || isset($customType) || isset($notes) || isset($userLevel)) &amp;&amp;
<a name="l00533"></a>00533                                 isset($name, $email, $created, $allowPublish, $maturePublish, $wantToMask, $wantToText, $canDoMask, $canDoText, $languages, $image, $aboutText, $firstLifeImage, $firstLifeAboutText, $webURL, $displayName, $partnerUUID, $visible, $customType, $notes, $userLevel) === <span class="keyword">false</span>) &amp;&amp;
<a name="l00534"></a>00534                                 ((isset($RLName) || isset($RLAddress) || isset($RLZip) || isset($RLCity) || isset($RLCountry)) &amp;&amp; 
<a name="l00535"></a>00535                                 isset($RLName, $RLAddress, $RLZip, $RLCity, $RLCountry) === <span class="keyword">false</span>)
<a name="l00536"></a>00536                         ){
<a name="l00537"></a>00537                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;If the profile info of the user has changed, all info must be specified.&#39;</span>);
<a name="l00538"></a>00538                         }
<a name="l00539"></a>00539                         <span class="keywordflow">if</span>(is_array($wantToMask) === <span class="keyword">true</span>){
<a name="l00540"></a>00540                                 <span class="keywordflow">if</span>(count($wantToMask) &gt; 32){
<a name="l00541"></a>00541                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot convert mask array to bitfield if array has greater than 32 entries&#39;</span>);
<a name="l00542"></a>00542                                 }
<a name="l00543"></a>00543                                 $val = 0;
<a name="l00544"></a>00544                                 <span class="keywordflow">foreach</span>($wantToMask as $k=&gt;$v){
<a name="l00545"></a>00545                                         <span class="keywordflow">if</span>($v != 0){
<a name="l00546"></a>00546                                                 $val |= 1 &lt;&lt; $k;
<a name="l00547"></a>00547                                         }
<a name="l00548"></a>00548                                 }
<a name="l00549"></a>00549                                 $wantToMask = $val;
<a name="l00550"></a>00550                         }
<a name="l00551"></a>00551                         <span class="keywordflow">if</span>(is_array($canDoMask) === <span class="keyword">true</span>){
<a name="l00552"></a>00552                                 <span class="keywordflow">if</span>(count($canDoMask) &gt; 32){
<a name="l00553"></a>00553                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot convert mask array to bitfield if array has greater than 32 entries&#39;</span>,1);
<a name="l00554"></a>00554                                 }
<a name="l00555"></a>00555                                 $val = 0;
<a name="l00556"></a>00556                                 <span class="keywordflow">foreach</span>($canDoMask as $k=&gt;$v){
<a name="l00557"></a>00557                                         <span class="keywordflow">if</span>($v != 0){
<a name="l00558"></a>00558                                                 $val |= 1 &lt;&lt; $k;
<a name="l00559"></a>00559                                         }
<a name="l00560"></a>00560                                 }
<a name="l00561"></a>00561                                 $canDoMask = $val;
<a name="l00562"></a>00562                         }
<a name="l00563"></a>00563 
<a name="l00564"></a>00564                         $uuid = strtolower($uuid);
<a name="l00565"></a>00565                         <span class="keyword">static</span> $registry = array();
<a name="l00566"></a>00566                         <span class="keywordflow">if</span>(isset($registry[$uuid]) === <span class="keyword">false</span>){
<a name="l00567"></a>00567                                 <span class="keywordflow">if</span>(isset($name, $email, $created, $allowPublish, $maturePublish, $wantToMask, $wantToText, $canDoMask, $canDoText, $languages, $image, $aboutText, $firstLifeImage, $firstLifeAboutText, $webURL, $displayName, $partnerUUID, $visible, $customType, $notes) === <span class="keyword">false</span>){
<a name="l00568"></a>00568                                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot return profile for user by UUID, profile data has not been set.&#39;</span>);
<a name="l00569"></a>00569                                 }
<a name="l00570"></a>00570                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $name, $email, $created, $allowPublish, $maturePublish, $wantToMask, $wantToText, $canDoMask, $canDoText, $languages, $image, $aboutText, $firstLifeImage, $firstLifeAboutText, $webURL, $displayName, $partnerUUID, $visible, $customType, $notes, $userLevel, $RLName, $RLAddress, $RLZip, $RLCity, $RLCountry);
<a name="l00571"></a>00571                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($uuid, $name, $email, $created, $allowPublish, $maturePublish, $wantToMask, $wantToText, $canDoMask, $canDoText, $languages, $image, $aboutText, $firstLifeImage, $firstLifeAboutText, $webURL, $displayName, $partnerUUID, $visible, $customType, $notes) === <span class="keyword">true</span>){
<a name="l00572"></a>00572                                 $info = $registry[$uuid];
<a name="l00573"></a>00573                                 <span class="keywordflow">if</span>(
<a name="l00574"></a>00574                                         $info-&gt;Name()               !== $name               ||
<a name="l00575"></a>00575                                         $info-&gt;Email()              !== $email              ||
<a name="l00576"></a>00576                                         $info-&gt;Created()            !== $created            ||
<a name="l00577"></a>00577                                         $info-&gt;AllowPublish()       !== $allowPublish       ||
<a name="l00578"></a>00578                                         $info-&gt;MaturePublish()      !== $maturePublish      ||
<a name="l00579"></a>00579                                         $info-&gt;WantToMask()         !== $wantToMask         ||
<a name="l00580"></a>00580                                         $info-&gt;WantToText()         !== $wantToText         ||
<a name="l00581"></a>00581                                         $info-&gt;CanDoMask()          !== $canDoMask          ||
<a name="l00582"></a>00582                                         $info-&gt;CanDoText()          !== $canDoText          ||
<a name="l00583"></a>00583                                         $info-&gt;Languages()          !== $languages          ||
<a name="l00584"></a>00584                                         $info-&gt;Image()              !== $image              ||
<a name="l00585"></a>00585                                         $info-&gt;AboutText()          !== $aboutText          ||
<a name="l00586"></a>00586                                         $info-&gt;FirstLifeImage()     !== $firstLifeImage     ||
<a name="l00587"></a>00587                                         $info-&gt;FirstLifeAboutText() !== $firstLifeAboutText ||
<a name="l00588"></a>00588                                         $info-&gt;WebURL()             !== $webURL             ||
<a name="l00589"></a>00589                                         $info-&gt;DisplayName()        !== $displayName        ||
<a name="l00590"></a>00590                                         $info-&gt;PartnerUUID()        !== $partnerUUID        ||
<a name="l00591"></a>00591                                         $info-&gt;Visible()            !== $visible            ||
<a name="l00592"></a>00592                                         $info-&gt;CustomType()         !== $customType         ||
<a name="l00593"></a>00593                                         $info-&gt;Notes()              !== $notes              ||
<a name="l00594"></a>00594                                         $info-&gt;UserLevel()          !== $userLevel          ||
<a name="l00595"></a>00595                                         (string)$info-&gt;RLInfo()     !== trim(implode(<span class="stringliteral">&quot;\n&quot;</span>, array($RLName, $RLAddress, $RLZip, $RLCity, $RLCountry)))
<a name="l00596"></a>00596                                 ){
<a name="l00597"></a>00597                                         $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $name, $email, $created, $allowPublish, $maturePublish, $wantToMask, $wantToText, $canDoMask, $canDoText, $languages, $image, $aboutText, $firstLifeImage, $firstLifeAboutText, $webURL, $displayName, $partnerUUID, $visible, $customType, $notes, $userLevel, $RLName, $RLAddress, $RLZip, $RLCity, $RLCountry);
<a name="l00598"></a>00598                                 }
<a name="l00599"></a>00599                         }
<a name="l00600"></a>00600                         <span class="keywordflow">return</span> $registry[$uuid];
<a name="l00601"></a>00601                 }
<a name="l00602"></a>00602 
<a name="l00605"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aeb6adb70e51c72adeae05dc756df2c17">00605</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aeb6adb70e51c72adeae05dc756df2c17">$Created</a>;
<a name="l00607"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac5c1b2d91b647271c41a4d2d60717500">00607</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac5c1b2d91b647271c41a4d2d60717500">Created</a>(){
<a name="l00608"></a>00608                         <span class="keywordflow">return</span> $this-&gt;Created;
<a name="l00609"></a>00609                 }
<a name="l00610"></a>00610 
<a name="l00613"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae68692d298e8a027f2852aa20408f55a">00613</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae68692d298e8a027f2852aa20408f55a">$AllowPublish</a>;
<a name="l00615"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac1071ae733f9ad4227b789b740bcee75">00615</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac1071ae733f9ad4227b789b740bcee75">AllowPublish</a>(){
<a name="l00616"></a>00616                         <span class="keywordflow">return</span> $this-&gt;AllowPublish;
<a name="l00617"></a>00617                 }
<a name="l00618"></a>00618 
<a name="l00621"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#abffed13b751f39a7075dbe07900fe357">00621</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#abffed13b751f39a7075dbe07900fe357">$MaturePublish</a>;
<a name="l00623"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ad75e8857a711987c2f580ad7a0da9089">00623</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ad75e8857a711987c2f580ad7a0da9089">MaturePublish</a>(){
<a name="l00624"></a>00624                         <span class="keywordflow">return</span> $this-&gt;MaturePublish;
<a name="l00625"></a>00625                 }
<a name="l00626"></a>00626 
<a name="l00629"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a828467dd1072530fbfdff843688d7673">00629</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a828467dd1072530fbfdff843688d7673">$WantToMask</a>;
<a name="l00631"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ababbc15f601d2f9426804461dfe362bc">00631</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ababbc15f601d2f9426804461dfe362bc">WantToMask</a>(){
<a name="l00632"></a>00632                         <span class="keywordflow">return</span> $this-&gt;WantToMask;
<a name="l00633"></a>00633                 }
<a name="l00634"></a>00634 
<a name="l00637"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a8776665eae6b1423c18e407e0db0f4e4">00637</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a8776665eae6b1423c18e407e0db0f4e4">$WantToText</a>;
<a name="l00639"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a2fad6a0afdd275b04314ad9c460b4e9d">00639</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a2fad6a0afdd275b04314ad9c460b4e9d">WantToText</a>(){
<a name="l00640"></a>00640                         <span class="keywordflow">return</span> $this-&gt;WantToText;
<a name="l00641"></a>00641                 }
<a name="l00642"></a>00642 
<a name="l00645"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a70318044b26aee17a2060a92928d76fc">00645</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a70318044b26aee17a2060a92928d76fc">$CanDoMask</a>;
<a name="l00647"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a3da63ac6aaadb9e90284ceae0db05f4a">00647</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a3da63ac6aaadb9e90284ceae0db05f4a">CanDoMask</a>(){
<a name="l00648"></a>00648                         <span class="keywordflow">return</span> $this-&gt;CanDoMask;
<a name="l00649"></a>00649                 }
<a name="l00650"></a>00650 
<a name="l00653"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aac4318cae63e2c543afd3848267f7607">00653</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aac4318cae63e2c543afd3848267f7607">$CanDoText</a>;
<a name="l00655"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab10dbabb83d0768935c2c907d4d9cf86">00655</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab10dbabb83d0768935c2c907d4d9cf86">CanDoText</a>(){
<a name="l00656"></a>00656                         <span class="keywordflow">return</span> $this-&gt;CanDoText;
<a name="l00657"></a>00657                 }
<a name="l00658"></a>00658 
<a name="l00661"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac07ffdab4ea36de059baf9fb17e26ee5">00661</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ac07ffdab4ea36de059baf9fb17e26ee5">$Languages</a>;
<a name="l00663"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a40e4d388f25671607b87d547cd54203b">00663</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a40e4d388f25671607b87d547cd54203b">Languages</a>(){
<a name="l00664"></a>00664                         <span class="keywordflow">return</span> $this-&gt;Languages;
<a name="l00665"></a>00665                 }
<a name="l00666"></a>00666 
<a name="l00669"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a6943ab891c1eaa9960adbf5ba649ae4e">00669</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a6943ab891c1eaa9960adbf5ba649ae4e">$Image</a>;
<a name="l00671"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a66d0d6da3b89580352c28d37b57df5bb">00671</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a66d0d6da3b89580352c28d37b57df5bb">Image</a>(){
<a name="l00672"></a>00672                         <span class="keywordflow">return</span> $this-&gt;Image;
<a name="l00673"></a>00673                 }
<a name="l00674"></a>00674 
<a name="l00677"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a80bc9250c71aa68c474f62ec61d47c04">00677</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a80bc9250c71aa68c474f62ec61d47c04">$AboutText</a>;
<a name="l00679"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae1d844a35123b0b954989efb24157c50">00679</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae1d844a35123b0b954989efb24157c50">AboutText</a>(){
<a name="l00680"></a>00680                         <span class="keywordflow">return</span> $this-&gt;AboutText;
<a name="l00681"></a>00681                 }
<a name="l00682"></a>00682 
<a name="l00685"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a03e87f461bfabcbce6d7aef7c8475ac7">00685</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a03e87f461bfabcbce6d7aef7c8475ac7">$FirstLifeImage</a>;
<a name="l00687"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aba02f1e22f3bf34e9e77e998beba18ad">00687</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#aba02f1e22f3bf34e9e77e998beba18ad">FirstLifeImage</a>(){
<a name="l00688"></a>00688                         <span class="keywordflow">return</span> $this-&gt;FirstLifeImage;
<a name="l00689"></a>00689                 }
<a name="l00690"></a>00690 
<a name="l00693"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae1f3cf9282a817941f967d6d77c00e44">00693</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ae1f3cf9282a817941f967d6d77c00e44">$FirstLifeAboutText</a>;
<a name="l00695"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a91da8e369930ad3e5b414be1550a9e1c">00695</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a91da8e369930ad3e5b414be1550a9e1c">FirstLifeAboutText</a>(){
<a name="l00696"></a>00696                         <span class="keywordflow">return</span> $this-&gt;FirstLifeAboutText;
<a name="l00697"></a>00697                 }
<a name="l00698"></a>00698 
<a name="l00701"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a5c94e8d2dc3698f22813b1c35f3f3995">00701</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a5c94e8d2dc3698f22813b1c35f3f3995">$WebURL</a>;
<a name="l00703"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#acd8c385c1691a9e876d6ea221df6896b">00703</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#acd8c385c1691a9e876d6ea221df6896b">WebURL</a>(){
<a name="l00704"></a>00704                         <span class="keywordflow">return</span> $this-&gt;WebURL;
<a name="l00705"></a>00705                 }
<a name="l00706"></a>00706 
<a name="l00709"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a06dc0a43f5263d292d52f598b5487e52">00709</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a06dc0a43f5263d292d52f598b5487e52">$DisplayName</a>;
<a name="l00711"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab0c4d0b1231bdc8a7fa48b73f5f828e1">00711</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab0c4d0b1231bdc8a7fa48b73f5f828e1">DisplayName</a>(){
<a name="l00712"></a>00712                         <span class="keywordflow">return</span> $this-&gt;DisplayName;
<a name="l00713"></a>00713                 }
<a name="l00714"></a>00714 
<a name="l00717"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ad0448396e9c5357450dd6340df330317">00717</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ad0448396e9c5357450dd6340df330317">$PartnerUUID</a>;
<a name="l00719"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a98684e75c043614a8220b9a9aabdcecd">00719</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a98684e75c043614a8220b9a9aabdcecd">PartnerUUID</a>(){
<a name="l00720"></a>00720                         <span class="keywordflow">return</span> $this-&gt;PartnerUUID;
<a name="l00721"></a>00721                 }
<a name="l00722"></a>00722 
<a name="l00725"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a68d6f9c6fe48d2de72c722d4a01b7ac6">00725</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a68d6f9c6fe48d2de72c722d4a01b7ac6">$Visible</a>;
<a name="l00727"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a6c38f928c8495557b4e45053eebcde7b">00727</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a6c38f928c8495557b4e45053eebcde7b">Visible</a>(){
<a name="l00728"></a>00728                         <span class="keywordflow">return</span> $this-&gt;Visible;
<a name="l00729"></a>00729                 }
<a name="l00730"></a>00730 
<a name="l00733"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#abfbd9052fbadba62b63a9825c9535403">00733</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#abfbd9052fbadba62b63a9825c9535403">$CustomType</a>;
<a name="l00735"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a1c88dbc322cc0d3042c59955befb25af">00735</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a1c88dbc322cc0d3042c59955befb25af">CustomType</a>(){
<a name="l00736"></a>00736                         <span class="keywordflow">return</span> $this-&gt;CustomType;
<a name="l00737"></a>00737                 }
<a name="l00738"></a>00738 
<a name="l00741"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a80b6682635dddda35ffd8235201dab7f">00741</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a80b6682635dddda35ffd8235201dab7f">$Notes</a>;
<a name="l00743"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a3f192d3366c9c64d28464942fdc6f5cd">00743</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a3f192d3366c9c64d28464942fdc6f5cd">Notes</a>(){
<a name="l00744"></a>00744                         <span class="keywordflow">return</span> $this-&gt;Notes;
<a name="l00745"></a>00745                 }
<a name="l00746"></a>00746 
<a name="l00749"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#afeca67d78131fca87474b73a159740c5">00749</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#afeca67d78131fca87474b73a159740c5">$UserLevel</a>;
<a name="l00751"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab6e69fee71287d33ade0ba4da7e73e2e">00751</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab6e69fee71287d33ade0ba4da7e73e2e">UserLevel</a>(){
<a name="l00752"></a>00752                         <span class="keywordflow">return</span> $this-&gt;UserLevel;
<a name="l00753"></a>00753                 }
<a name="l00754"></a>00754 
<a name="l00757"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#ab13c66c5903ac16dafac856c55af5cd2">00757</a>                 <span class="keyword">protected</span> $RLInfo = null;
<a name="l00759"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a57d2cc9f9743f236b3d97702707684aa">00759</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1UserProfile.html#a57d2cc9f9743f236b3d97702707684aa">RLInfo</a>(){
<a name="l00760"></a>00760                         <span class="keywordflow">return</span> $this-&gt;RLInfo;
<a name="l00761"></a>00761                 }
<a name="l00762"></a>00762         }
<a name="l00763"></a>00763 
<a name="l00765"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html">00765</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html" title="Encapsulating real-life/meatspace info in a class so that Aurora::Addon::WebUI::UserProfile::RLInfo()...">RLInfo</a> <span class="keyword">implements</span> IteratorAggregate{
<a name="l00767"></a>00767 
<a name="l00776"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a65c996f1a0ef70bf9c7d8e25a1d7d134">00776</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a65c996f1a0ef70bf9c7d8e25a1d7d134" title="public constructor">__construct</a>($name, $address, $zip, $city, $country){
<a name="l00777"></a>00777                         <span class="keywordflow">if</span>(is_string($name) === <span class="keyword">false</span>){
<a name="l00778"></a>00778                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Name must be a string.&#39;</span>);
<a name="l00779"></a>00779                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($address) === <span class="keyword">false</span>){
<a name="l00780"></a>00780                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Address must be a string.&#39;</span>);
<a name="l00781"></a>00781                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($zip) === <span class="keyword">false</span>){
<a name="l00782"></a>00782                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Zip must be a string.&#39;</span>);
<a name="l00783"></a>00783                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($city) === <span class="keyword">false</span>){
<a name="l00784"></a>00784                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;City must be as tring.&#39;</span>);
<a name="l00785"></a>00785                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($country) === <span class="keyword">false</span>){
<a name="l00786"></a>00786                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Country must be a string.&#39;</span>);
<a name="l00787"></a>00787                         }
<a name="l00788"></a>00788 
<a name="l00789"></a>00789                         $this-&gt;Name = trim($name);
<a name="l00790"></a>00790                         $this-&gt;Address = trim($address);
<a name="l00791"></a>00791                         $this-&gt;Zip = trim($zip);
<a name="l00792"></a>00792                         $this-&gt;City = trim($city);
<a name="l00793"></a>00793                         $this-&gt;Country = trim($country);
<a name="l00794"></a>00794                 }
<a name="l00795"></a>00795 
<a name="l00798"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a90efb261c13e9a3e16ed2b0563dec08d">00798</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a90efb261c13e9a3e16ed2b0563dec08d">$Name</a>;
<a name="l00800"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#aee637aaac62ffd89b7b7c6b6529e913b">00800</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#aee637aaac62ffd89b7b7c6b6529e913b">Name</a>(){
<a name="l00801"></a>00801                         <span class="keywordflow">return</span> $this-&gt;Name;
<a name="l00802"></a>00802                 }
<a name="l00803"></a>00803 
<a name="l00806"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#acefb79880df0d3d438d7cb7b36ebac2c">00806</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#acefb79880df0d3d438d7cb7b36ebac2c">$Address</a>;
<a name="l00808"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#ac98de6c9250be1b4e3446d9989e058b3">00808</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#ac98de6c9250be1b4e3446d9989e058b3">Address</a>(){
<a name="l00809"></a>00809                         <span class="keywordflow">return</span> $this-&gt;Address;
<a name="l00810"></a>00810                 }
<a name="l00811"></a>00811 
<a name="l00814"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a180c7b2950a88598f24e56742e3285d6">00814</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a180c7b2950a88598f24e56742e3285d6">$Zip</a>;
<a name="l00816"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a8d7c766ebd0cca0f700a7a51bb3c3d39">00816</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a8d7c766ebd0cca0f700a7a51bb3c3d39">Zip</a>(){
<a name="l00817"></a>00817                         <span class="keywordflow">return</span> $this-&gt;Zip;
<a name="l00818"></a>00818                 }
<a name="l00819"></a>00819 
<a name="l00822"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#aea4bf3ed06c411b5ea7e2a3bd4b26809">00822</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#aea4bf3ed06c411b5ea7e2a3bd4b26809">$City</a>;
<a name="l00824"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a55b115f75d1c8f5c10cd915c70e38f89">00824</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a55b115f75d1c8f5c10cd915c70e38f89">City</a>(){
<a name="l00825"></a>00825                         <span class="keywordflow">return</span> $this-&gt;City;
<a name="l00826"></a>00826                 }
<a name="l00827"></a>00827 
<a name="l00830"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a42c8f8a3d5aa055a3d08242d86847c52">00830</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a42c8f8a3d5aa055a3d08242d86847c52">$Country</a>;
<a name="l00832"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a2101f73070d87094502f273569d053e6">00832</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a2101f73070d87094502f273569d053e6">Country</a>(){
<a name="l00833"></a>00833                         <span class="keywordflow">return</span> $this-&gt;Country;
<a name="l00834"></a>00834                 }
<a name="l00835"></a>00835 
<a name="l00837"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a7516ca30af0db3cdbf9a7739b48ce91d">00837</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a7516ca30af0db3cdbf9a7739b48ce91d">__toString</a>(){
<a name="l00838"></a>00838                         <span class="keywordflow">return</span> trim(implode(<span class="stringliteral">&quot;\n&quot;</span>, array(
<a name="l00839"></a>00839                                 $this-&gt;Name(),
<a name="l00840"></a>00840                                 $this-&gt;Address(),
<a name="l00841"></a>00841                                 $this-&gt;Zip(),
<a name="l00842"></a>00842                                 $this-&gt;City(),
<a name="l00843"></a>00843                                 $this-&gt;Country()
<a name="l00844"></a>00844                         )));
<a name="l00845"></a>00845                 }
<a name="l00846"></a>00846 
<a name="l00848"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a7a9f937c2958e6f4dd7b030f86fb70b7">00848</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a7a9f937c2958e6f4dd7b030f86fb70b7">getIterator</a>(){
<a name="l00849"></a>00849                         <span class="keywordflow">return</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#ad53920336f65274cb34cbf14e5560c56" title="registry method. Sets &amp; gets instances of Aurora::Addon::WebUI">RLInfoIterator::r</a>($this);
<a name="l00850"></a>00850                 }
<a name="l00851"></a>00851         }
<a name="l00852"></a>00852 
<a name="l00854"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html">00854</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html" title="This is Iterator here could be considered pure laziness.">RLInfoIterator</a> <span class="keyword">extends</span> abstractIterator{
<a name="l00855"></a>00855 
<a name="l00857"></a>00857 
<a name="l00860"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html#a1f1d93a1dc1ec84d9d24c1516d994ab7">00860</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html#a1f1d93a1dc1ec84d9d24c1516d994ab7" title="this gets hidden behind a registry method.">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html" title="Encapsulating real-life/meatspace info in a class so that Aurora::Addon::WebUI::UserProfile::RLInfo()...">RLInfo</a> $RLInfo){
<a name="l00861"></a>00861                         $this-&gt;data = array(
<a name="l00862"></a>00862                                 <span class="stringliteral">&#39;RLName&#39;</span>    =&gt; $RLInfo-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#aee637aaac62ffd89b7b7c6b6529e913b">Name</a>(),
<a name="l00863"></a>00863                                 <span class="stringliteral">&#39;RLAddress&#39;</span> =&gt; $RLInfo-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#ac98de6c9250be1b4e3446d9989e058b3">Address</a>(),
<a name="l00864"></a>00864                                 <span class="stringliteral">&#39;RLZip&#39;</span>     =&gt; $RLInfo-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a8d7c766ebd0cca0f700a7a51bb3c3d39">Zip</a>(),
<a name="l00865"></a>00865                                 <span class="stringliteral">&#39;RLCity&#39;</span>    =&gt; $RLInfo-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a55b115f75d1c8f5c10cd915c70e38f89">City</a>(),
<a name="l00866"></a>00866                                 <span class="stringliteral">&#39;RLCountry&#39;</span> =&gt; $RLInfo-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html#a2101f73070d87094502f273569d053e6">Country</a>()
<a name="l00867"></a>00867                         );
<a name="l00868"></a>00868                 }
<a name="l00869"></a>00869 
<a name="l00871"></a>00871 
<a name="l00875"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html#a069705a592a057750e0289e301d51f81">00875</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfoIterator.html#a069705a592a057750e0289e301d51f81" title="Registry method.">r</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RLInfo.html" title="Encapsulating real-life/meatspace info in a class so that Aurora::Addon::WebUI::UserProfile::RLInfo()...">RLInfo</a> $RLInfo){
<a name="l00876"></a>00876                         <span class="keyword">static</span> $registry = array();
<a name="l00877"></a>00877                         $hash = spl_object_hash($RLInfo);
<a name="l00878"></a>00878                         <span class="keywordflow">if</span>(isset($registry[$hash]) === <span class="keyword">false</span>){
<a name="l00879"></a>00879                                 $registry[$hash] = <span class="keyword">new</span> <span class="keyword">static</span>($RLInfo);
<a name="l00880"></a>00880                         }
<a name="l00881"></a>00881                         <span class="keywordflow">return</span> $registry[$hash];
<a name="l00882"></a>00882                 }
<a name="l00883"></a>00883         }
<a name="l00884"></a>00884 
<a name="l00886"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html">00886</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html" title="SearchUser class. Included in result returned by Aurora::Addon::WebUI::FindUsers()">SearchUser</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractUserHasName.html" title="implements common code relating converting names from a single string into the legacy first and last ...">abstractUserHasName</a>{
<a name="l00887"></a>00887 
<a name="l00889"></a>00889 
<a name="l00895"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a018ef0a07ba38053b72f4b02c9d9f169">00895</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a018ef0a07ba38053b72f4b02c9d9f169" title="We need to add in some more properties and validation since we&#39;re extending another class...">__construct</a>($uuid, $name, $created, $userFlags){
<a name="l00896"></a>00896                         <span class="keywordflow">if</span>(is_integer($created) === <span class="keyword">false</span>){
<a name="l00897"></a>00897                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Created timestamp must be an integer.&#39;</span>);
<a name="l00898"></a>00898                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($userFlags) === <span class="keyword">false</span>){
<a name="l00899"></a>00899                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;User Flags must be an integer.&#39;</span>);
<a name="l00900"></a>00900                         }
<a name="l00901"></a>00901 
<a name="l00902"></a>00902                         $this-&gt;Created   = $created;
<a name="l00903"></a>00903                         $this-&gt;UserFlags = $userFlags;
<a name="l00904"></a>00904                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($uuid, $name);
<a name="l00905"></a>00905                 }
<a name="l00906"></a>00906 
<a name="l00908"></a>00908 
<a name="l00915"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#acb6a53602e4e3891c48e4370f7e004c9">00915</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#acb6a53602e4e3891c48e4370f7e004c9" title="Registry method.">r</a>($uuid, $name=null, $created=null, $userFlags=null){
<a name="l00916"></a>00916                         <span class="keywordflow">if</span>(is_string($uuid) === <span class="keyword">false</span>){
<a name="l00917"></a>00917                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID must be a string.&#39;</span>);
<a name="l00918"></a>00918                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(preg_match(\Aurora\Addon\<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#af134c5a683b22a0c49f600a8b1bc85bd" title="string Regular expression for validating UUIDs (put here until this operation gets performed elsewher...">WebUI::regex_UUID</a>, $uuid) === <span class="keyword">false</span>){
<a name="l00919"></a>00919                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;UUID was not a valid UUID.&#39;</span>);
<a name="l00920"></a>00920                         }
<a name="l00921"></a>00921 
<a name="l00922"></a>00922                         $uuid = strtolower($uuid);
<a name="l00923"></a>00923                         <span class="keyword">static</span> $registry = array();
<a name="l00924"></a>00924                         $create = (isset($registry[$uuid]) === <span class="keyword">false</span>);
<a name="l00925"></a>00925 
<a name="l00926"></a>00926                         <span class="keywordflow">if</span>($create === <span class="keyword">false</span> &amp;&amp; isset($name, $created, $userFlags) === <span class="keyword">true</span>){
<a name="l00927"></a>00927                                 $user = $registry[$uuid];
<a name="l00928"></a>00928                                 $create = ($user-&gt;Name() !== $name || $user-&gt;Created() !== $created || $user-&gt;UserFlags !== $userFlags);
<a name="l00929"></a>00929                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($created === <span class="keyword">true</span> &amp;&amp; isset($name, $created, $userFlags) === <span class="keyword">false</span>){
<a name="l00930"></a>00930                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Cannot create an instance of Aurora::Addon::WebUI::SearchUser if no information is specified.&#39;</span>);
<a name="l00931"></a>00931                         }
<a name="l00932"></a>00932 
<a name="l00933"></a>00933                         <span class="keywordflow">if</span>($create){
<a name="l00934"></a>00934                                 $registry[$uuid] = <span class="keyword">new</span> <span class="keyword">static</span>($uuid, $name, $created, $userFlags);
<a name="l00935"></a>00935                         }
<a name="l00936"></a>00936 
<a name="l00937"></a>00937                         <span class="keywordflow">return</span> $registry[$uuid];
<a name="l00938"></a>00938                 }
<a name="l00939"></a>00939 
<a name="l00942"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#aeb6adb70e51c72adeae05dc756df2c17">00942</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#aeb6adb70e51c72adeae05dc756df2c17">$Created</a>;
<a name="l00944"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#ac5c1b2d91b647271c41a4d2d60717500">00944</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#ac5c1b2d91b647271c41a4d2d60717500">Created</a>(){
<a name="l00945"></a>00945                         <span class="keywordflow">return</span> $this-&gt;Created;
<a name="l00946"></a>00946                 }
<a name="l00947"></a>00947 
<a name="l00950"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a36506ac9d0f77962e7f80ed843ef1de2">00950</a>                 <span class="keyword">protected</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a36506ac9d0f77962e7f80ed843ef1de2">$UserFlags</a>;
<a name="l00952"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a42909dc6cf3af5810cdfc6f2b6d41ec3">00952</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html#a42909dc6cf3af5810cdfc6f2b6d41ec3">UserFlags</a>(){
<a name="l00953"></a>00953                         <span class="keywordflow">return</span> $this-&gt;UserFlags;
<a name="l00954"></a>00954                 }
<a name="l00955"></a>00955         }
<a name="l00956"></a>00956 
<a name="l00958"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html">00958</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html" title="SearchUserResults iterator. Returned by Aurora::Addon::WebUI::FindUsers.">SearchUserResults</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractLazyLoadingSeekableIterator.html" title="Implements the bare-minimum common code for API result iterators that do not load the entire set of r...">abstractLazyLoadingSeekableIterator</a>{
<a name="l00959"></a>00959 
<a name="l00961"></a>00961                 <span class="keyword">private</span> $query=<span class="stringliteral">&#39;&#39;</span>;
<a name="l00962"></a>00962 
<a name="l00964"></a>00964 
<a name="l00972"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a493d61dee2edc50f5c1693c6d8d8ea45">00972</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a493d61dee2edc50f5c1693c6d8d8ea45" title="protected constructor">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $query=<span class="stringliteral">&#39;&#39;</span>, $start=0, $total=0, array $users=null){
<a name="l00973"></a>00973                         <span class="keywordflow">if</span>(is_string($start) &amp;&amp; ctype_digit($start) === <span class="keyword">true</span>){
<a name="l00974"></a>00974                                 $start = (integer)$start;
<a name="l00975"></a>00975                         }
<a name="l00976"></a>00976 
<a name="l00977"></a>00977                         <span class="keywordflow">if</span>(is_integer($start) === <span class="keyword">false</span>){
<a name="l00978"></a>00978                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Start point must be an integer.&#39;</span>);
<a name="l00979"></a>00979                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($query) === <span class="keyword">false</span>){
<a name="l00980"></a>00980                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Query must be a string.&#39;</span>);
<a name="l00981"></a>00981                         }
<a name="l00982"></a>00982 
<a name="l00983"></a>00983                         <span class="keywordflow">if</span>(isset($users) === <span class="keyword">true</span>){
<a name="l00984"></a>00984                                 <span class="keywordflow">foreach</span>($users as $v){
<a name="l00985"></a>00985                                         <span class="keywordflow">if</span>(($v instanceof <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUser.html" title="SearchUser class. Included in result returned by Aurora::Addon::WebUI::FindUsers()">SearchUser</a>) === <span class="keyword">false</span>){
<a name="l00986"></a>00986                                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Only instances of Aurora::Addon::WebUI::SearchUser should be included in the array passed to Aurora::Addon::WebUI::SearchUserResults::__construct()&#39;</span>);
<a name="l00987"></a>00987                                         }
<a name="l00988"></a>00988                                 }
<a name="l00989"></a>00989                                 reset($users);
<a name="l00990"></a>00990                                 $this-&gt;data = $users;
<a name="l00991"></a>00991                         }
<a name="l00992"></a>00992 
<a name="l00993"></a>00993                         $this-&gt;query = $query;
<a name="l00994"></a>00994 
<a name="l00995"></a>00995                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($WebUI, $start, $total);
<a name="l00996"></a>00996                 }
<a name="l00997"></a>00997 
<a name="l00999"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a531e4a386aaa7f3e06d3642dc38d7e80">00999</a>                 <span class="keyword">protected</span> <span class="keyword">static</span> $registry = array();
<a name="l01000"></a>01000 
<a name="l01002"></a>01002 
<a name="l01007"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a48f0c392e62ef5f2a18e32cd6092ee65">01007</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a48f0c392e62ef5f2a18e32cd6092ee65" title="Determines whether we have something in the registry or not.">hasInstance</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $query=<span class="stringliteral">&#39;&#39;</span>){
<a name="l01008"></a>01008                         <span class="keywordflow">if</span>(is_string($query) === <span class="keyword">false</span>){
<a name="l01009"></a>01009                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Query must be a string.&#39;</span>);
<a name="l01010"></a>01010                         }
<a name="l01011"></a>01011                         $query = trim($query);
<a name="l01012"></a>01012                         $hash = md5(spl_object_hash($WebUI) . <span class="charliteral">&#39;:&#39;</span> . $query);
<a name="l01013"></a>01013                         <span class="keywordflow">return</span> (isset($registry[$hash]) === <span class="keyword">true</span>);
<a name="l01014"></a>01014                 }
<a name="l01015"></a>01015 
<a name="l01024"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a92822993011f248ecee6644b8cbd880b">01024</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#a92822993011f248ecee6644b8cbd880b">r</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $query=<span class="stringliteral">&#39;&#39;</span>, $start=0, $total=null, array $users=null){
<a name="l01025"></a>01025                         <span class="keywordflow">if</span>(is_string($start) &amp;&amp; ctype_digit($start) === <span class="keyword">true</span>){
<a name="l01026"></a>01026                                 $start = (integer)$start;
<a name="l01027"></a>01027                         }
<a name="l01028"></a>01028                         <span class="keywordflow">if</span>(is_string($total) &amp;&amp; ctype_digit($total) === <span class="keyword">true</span>){
<a name="l01029"></a>01029                                 $total = (integer)$total;
<a name="l01030"></a>01030                         }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032                         <span class="keywordflow">if</span>(is_integer($start) === <span class="keyword">false</span>){
<a name="l01033"></a>01033                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Start point must be an integer.&#39;</span>);
<a name="l01034"></a>01034                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($total) &amp;&amp; is_integer($total) === <span class="keyword">false</span>){
<a name="l01035"></a>01035                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Total must be an integer.&#39;</span>);
<a name="l01036"></a>01036                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_string($query) === <span class="keyword">false</span>){
<a name="l01037"></a>01037                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Query must be a string.&#39;</span>);
<a name="l01038"></a>01038                         }
<a name="l01039"></a>01039 
<a name="l01040"></a>01040                         $query = trim($query);
<a name="l01041"></a>01041                         $hash = md5(spl_object_hash($WebUI) . <span class="charliteral">&#39;:&#39;</span> . $query);
<a name="l01042"></a>01042                         $has  = static::hasInstance($WebUI, $query, $total);
<a name="l01043"></a>01043 
<a name="l01044"></a>01044                         <span class="keywordflow">if</span>($has === <span class="keyword">false</span> &amp;&amp; isset($total) === <span class="keyword">false</span>){
<a name="l01045"></a>01045                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;When no instance has been cached the total results must be specified&#39;</span>);
<a name="l01046"></a>01046                         }
<a name="l01047"></a>01047                         $makeNew = !$has || $registry[$hash]-&gt;count() !== $total;
<a name="l01048"></a>01048 
<a name="l01049"></a>01049                         <span class="keywordflow">if</span>($makeNew === <span class="keyword">true</span> &amp;&amp; $total &gt; 0 &amp;&amp; count($users) === 0){
<a name="l01050"></a>01050                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1BadMethodCallException.html" title="WebUI-specific BadMethodCallException.">BadMethodCallException</a>(<span class="stringliteral">&#39;When the total number of users is greater than zero, there should always be a subset of the results to pre-populate an instance with.&#39;</span>);
<a name="l01051"></a>01051                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($makeNew){
<a name="l01052"></a>01052                                 $registry[$hash] = <span class="keyword">new</span> <span class="keyword">static</span>($WebUI, $query, $start, $total, $users);
<a name="l01053"></a>01053                         }
<a name="l01054"></a>01054 
<a name="l01055"></a>01055                         $registry[$hash]-&gt;seek($start);
<a name="l01056"></a>01056 
<a name="l01057"></a>01057                         <span class="keywordflow">return</span> $registry[$hash];
<a name="l01058"></a>01058                 }
<a name="l01059"></a>01059 
<a name="l01061"></a>01061 
<a name="l01064"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#af343507d1926e6ecf964625d41db528c">01064</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1SearchUserResults.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::Search...">current</a>(){
<a name="l01065"></a>01065                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l01066"></a>01066                                 <span class="keywordflow">return</span> null;
<a name="l01067"></a>01067                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l01068"></a>01068                                 $start   = $this-&gt;key();
<a name="l01069"></a>01069                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#ad9af227a26715cdfa9b84a93c6d35c04" title="Attempt to search for users.">FindUsers</a>($this-&gt;query, $start, 10, <span class="keyword">true</span>);
<a name="l01070"></a>01070                                 <span class="keywordflow">foreach</span>($results as $user){
<a name="l01071"></a>01071                                         $this-&gt;data[$start++] = $user;
<a name="l01072"></a>01072                                 }
<a name="l01073"></a>01073                         }
<a name="l01074"></a>01074                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l01075"></a>01075                 }
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077 
<a name="l01079"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html">01079</a>         <span class="keyword">class </span><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html" title="Recently online users iterator. Returned by Aurora::Addon::WebUI::RecentlyOnlineUsers()">RecentlyOnlineUsersIterator</a> <span class="keyword">extends</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1abstractLazyLoadingSeekableIterator.html" title="Implements the bare-minimum common code for API result iterators that do not load the entire set of r...">abstractLazyLoadingSeekableIterator</a>{
<a name="l01080"></a>01080 
<a name="l01082"></a>01082                 <span class="keyword">private</span> $secondsAgo=0;
<a name="l01083"></a>01083 
<a name="l01085"></a>01085                 <span class="keyword">private</span> $stillOnline=<span class="keyword">false</span>;
<a name="l01086"></a>01086 
<a name="l01088"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#a2971d84a3c27e2c8a2b0872fa33419a6">01088</a>                 <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#a2971d84a3c27e2c8a2b0872fa33419a6" title="We&#39;re hiding this behind factory methods.">__construct</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $secondsAgo=0, $stillOnline=<span class="keyword">false</span>, $start=0, $total=0, array $userInfo=null){
<a name="l01089"></a>01089                         <span class="keywordflow">if</span>(is_string($secondsAgo) &amp;&amp; ctype_digit($secondsAgo) === <span class="keyword">true</span>){
<a name="l01090"></a>01090                                 $secondsAgo = (integer)$secondsAgo;
<a name="l01091"></a>01091                         }
<a name="l01092"></a>01092                         <span class="keywordflow">if</span>(is_string($start) &amp;&amp; ctype_digit($start) === <span class="keyword">true</span>){
<a name="l01093"></a>01093                                 $start = (integer)$start;
<a name="l01094"></a>01094                         }
<a name="l01095"></a>01095 
<a name="l01096"></a>01096                         <span class="keywordflow">if</span>(is_integer($start) === <span class="keyword">false</span>){
<a name="l01097"></a>01097                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Start point must be an integer.&#39;</span>);
<a name="l01098"></a>01098                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_integer($secondsAgo) === <span class="keyword">false</span>){
<a name="l01099"></a>01099                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;secondsAgo must be specified as integer.&#39;</span>);
<a name="l01100"></a>01100                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>($secondsAgo &lt; 0){
<a name="l01101"></a>01101                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;secondsAgo must be greater than or equal to zero.&#39;</span>);
<a name="l01102"></a>01102                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_bool($stillOnline) === <span class="keyword">false</span>){
<a name="l01103"></a>01103                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;stillOnline must be specified as a boolean.&#39;</span>);
<a name="l01104"></a>01104                         }
<a name="l01105"></a>01105 
<a name="l01106"></a>01106                         <span class="keywordflow">if</span>(isset($userInfo) === <span class="keyword">true</span>){
<a name="l01107"></a>01107                                 $i = $start;
<a name="l01108"></a>01108                                 <span class="keywordflow">foreach</span>($userInfo as $info){
<a name="l01109"></a>01109                                         <span class="keywordflow">if</span>($info instanceof <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1GridUserInfo.html" title="GridUserInfo class. Returned by Aurora::Addon::WebUI::GetGridUserInfo()">GridUserInfo</a>){
<a name="l01110"></a>01110                                                 $this-&gt;data[$i++] = $info;
<a name="l01111"></a>01111                                         }<span class="keywordflow">else</span>{
<a name="l01112"></a>01112                                                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1InvalidArgumentException.html" title="WebUI-specific InvalidArgumentException.">InvalidArgumentException</a>(<span class="stringliteral">&#39;Values of instantiated users array must be instances of Aurora::Addon::WebUI::GridUserInfo&#39;</span>);
<a name="l01113"></a>01113                                         }
<a name="l01114"></a>01114                                 }
<a name="l01115"></a>01115                         }
<a name="l01116"></a>01116 
<a name="l01117"></a>01117                         $this-&gt;secondsAgo  = $secondsAgo;
<a name="l01118"></a>01118                         $this-&gt;stillOnline = $stillOnline;
<a name="l01119"></a>01119 
<a name="l01120"></a>01120                         <a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a8c7aed34f19ec3566f436bf9f301b3db" title="This is protected because we&#39;re going to use a registry method to access it.">parent::__construct</a>($WebUI, $start, $total);
<a name="l01121"></a>01121                 }
<a name="l01122"></a>01122 
<a name="l01124"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#a78f83d39f413c3aaa9d730e0ed79931d">01124</a>                 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#a78f83d39f413c3aaa9d730e0ed79931d" title="In a long-running process, the secondsAgo parameter might become &quot;stale&quot;, so we don&#39;t use a registr...">f</a>(<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a> $WebUI, $secondsAgo=0, $stillOnline=<span class="keyword">false</span>, $start=0, $total=0, array $userInfo=null){
<a name="l01125"></a>01125                         <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keyword">static</span>($WebUI, $secondsAgo, $stillOnline, $start, $total, $userInfo);
<a name="l01126"></a>01126                 }
<a name="l01127"></a>01127 
<a name="l01129"></a>01129 
<a name="l01132"></a><a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#af343507d1926e6ecf964625d41db528c">01132</a>                 <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classAurora_1_1Addon_1_1WebUI_1_1RecentlyOnlineUsersIterator.html#af343507d1926e6ecf964625d41db528c" title="To avoid slowdowns due to an excessive amount of curl calls, we populate Aurora::Addon::WebUI::Recent...">current</a>(){
<a name="l01133"></a>01133                         <span class="keywordflow">if</span>($this-&gt;valid() === <span class="keyword">false</span>){
<a name="l01134"></a>01134                                 <span class="keywordflow">return</span> null;
<a name="l01135"></a>01135                         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($this-&gt;data[$this-&gt;key()]) === <span class="keyword">false</span>){
<a name="l01136"></a>01136                                 $start   = $this-&gt;key();
<a name="l01137"></a>01137                                 $results = $this-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html" title="Now you might think this class should be a singleton loading config values from constants instead of ...">WebUI</a>-&gt;<a class="code" href="classAurora_1_1Addon_1_1WebUI.html#a4b85c39e556a0404922aa961484b63da" title="Attempt to get a list of recently online users.">RecentlyOnlineUsers</a>($this-&gt;secondsAgo, $this-&gt;stillOnline, $start, 10, <span class="keyword">true</span>);
<a name="l01138"></a>01138                                 <span class="keywordflow">foreach</span>($results as $user){
<a name="l01139"></a>01139                                         $this-&gt;data[$start++] = $user;
<a name="l01140"></a>01140                                 }
<a name="l01141"></a>01141                         }
<a name="l01142"></a>01142                         <span class="keywordflow">return</span> $this-&gt;data[$this-&gt;key()];
<a name="l01143"></a>01143                 }
<a name="l01144"></a>01144         }
<a name="l01145"></a>01145 }
<a name="l01146"></a>01146 ?&gt;
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="User_8php.html">User.php</a>      </li>

    <li class="footer">Generated on Wed Apr 11 2012 12:28:08 for libAurora.php by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
